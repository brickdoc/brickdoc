schema {
  query: RootQuery
  mutation: RootMutation
}

"""
Available authentication authentication.
"""
enum AuthMethod {
  """
  Email and Password Authentication
  """
  email_password

  """
  Github Federated Authentication
  """
  github
}

"""
Email Address
"""
scalar Email

"""
A valid http/https url or image uri
"""
scalar HttpUrl

type RootMutation {
  """

  Required `context[:entrypoints]` is `[:internal]`.
  """
  userConfirmationEmailResend(
    """
    Parameters for UserConfirmationEmailResend
    """
    input: UserConfirmationEmailResendInput!
  ): UserConfirmationEmailResendPayload

  """

  Required `context[:entrypoints]` is `[:internal]`.
  """
  userCreate(
    """
    Parameters for UserCreate
    """
    input: UserCreateInput!
  ): UserCreatePayload

  """

  Required `context[:entrypoints]` is `[:internal]`.
  """
  userEmailPasswordSignIn(
    """
    Parameters for UserEmailPasswordSignIn
    """
    input: UserEmailPasswordSignInInput!
  ): UserEmailPasswordSignInPayload
}

type RootQuery {
  """
  Check webid available.
  """
  accountsWebidAvailable(webid: String!): Boolean!

  """
  provides a federated identity session data
  Required `context[:entrypoints]` is `[:internal]`.
  Required `context[:entrypoints]` is `[:internal]`.
  """
  federatedIdentitySession: omniauthSession!

  """
  Return information about current Brickdoc server instance.
  """
  metadata: metadata!
}

"""
Autogenerated input type of UserConfirmationEmailResend
"""
input UserConfirmationEmailResendInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  User's email address
  """
  email: Email!
}

"""
Autogenerated return type of UserConfirmationEmailResend
"""
type UserConfirmationEmailResendPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Errors encountered during execution of the mutation.
  """
  errors: [String!]!
}

"""
Autogenerated input type of UserCreate
"""
input UserCreateInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  User's email address
  """
  email: Email

  """
  User's preferred language
  """
  locale: String!

  """
  Human-readable name of the user
  """
  name: String!

  """
  user password
  """
  password: String

  """
  User's preferred timezone
  """
  timezone: String!

  """
  Like a username, Unique within this instance of Brickdoc.
  """
  webid: String!
}

"""
Autogenerated return type of UserCreate
"""
type UserCreatePayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Errors encountered during execution of the mutation.
  """
  errors: [String!]!
  isUserActive: Boolean

  """
  redirect url path when sig up successful
  """
  redirectPath: String
}

"""
Autogenerated input type of UserEmailPasswordSignIn
"""
input UserEmailPasswordSignInInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  User's email address
  """
  email: Email!

  """
  user password
  """
  password: String!

  """
  remember authentication session
  """
  remember: Boolean!
}

"""
Autogenerated return type of UserEmailPasswordSignIn
"""
type UserEmailPasswordSignInPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Errors encountered during execution of the mutation.
  """
  errors: [String!]!

  """
  redirect url path when sig in successful
  """
  redirectPath: String
}

"""
Brickdoc Global Configuration
"""
type config {
  """
  Enable email and password authentication
  """
  accountsEmailPasswordAuth: Boolean!

  """
  Enabled federated identity providers
  """
  accountsFederatedProviders: [federatedProvider!]!

  """
  Preferred Authentication authentication
  """
  accountsPreferredAuthMethod: AuthMethod!

  """
  User agreement link
  """
  userAgreementLink: HttpUrl!
}

"""
Accounts Federated Identity Provide Configuration
"""
type federatedProvider {
  """
  Provider Logo URI
  """
  logo: HttpUrl!

  """
  Provider Name
  """
  name: String!
}

"""
Represents information about the Brickdoc Server Instance.
"""
type metadata {
  """
  Current available locales.
  """
  availableLocales: [select_option!]!

  """
  Brickdoc Global Config
  """
  config: config!
  id: ID!
}

"""
session[:omniauth]
"""
type omniauthSession {
  hasSession: Boolean!

  """
  Human-readable name of the user
  """
  name: String

  """
  Provider Name
  """
  provider: String

  """
  Like a username, Unique within this instance of Brickdoc.
  """
  webid: String
}

"""
Option Object for BrickDesign Select Component.
"""
type select_option {
  """
  option label
  """
  label: String!

  """
  option value
  """
  value: String!
}
