# @brickdoc/cypherpunk

## Table of contents

### Functions

- [aeadDecrypt](README.md#aeaddecrypt)
- [aeadEncrypt](README.md#aeadencrypt)
- [deriveKey](README.md#derivekey)
- [generateKey](README.md#generatekey)
- [genericHash](README.md#generichash)
- [passwordHash](README.md#passwordhash)
- [verifyPasswordHash](README.md#verifypasswordhash)

## Functions

### <a id="aeaddecrypt" name="aeaddecrypt"></a> aeadDecrypt

▸ **aeadDecrypt**(`ciphertext`, `key`): `string`

Decrypts a message using XChaCha20-Poly1305-IETF

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `ciphertext` | `string` | base64 encoded ciphertext |
| `key` | `string` | encryption key |

#### Returns

`string`

- plaintext

#### Defined in

[aead.ts:41](https://github.com/brickdoc/brickdoc/blob/5e2ec65d/packages/cypherpunk/src/aead.ts#L41)

___

### <a id="aeadencrypt" name="aeadencrypt"></a> aeadEncrypt

▸ **aeadEncrypt**(`plaintext`, `key`): `string`

Encrypts a message using XChaCha20-Poly1305-IETF

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `plaintext` | `string` | plaintext |
| `key` | `string` | encryption key |

#### Returns

`string`

ciphertext - base64 encoded nonce + ciphertext

#### Defined in

[aead.ts:20](https://github.com/brickdoc/brickdoc/blob/5e2ec65d/packages/cypherpunk/src/aead.ts#L20)

___

### <a id="derivekey" name="derivekey"></a> deriveKey

▸ **deriveKey**(`key`, `subKeyId`, `context?`): `string`

Derive a new key from a master key.

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `key` | `string` | `undefined` | master key |
| `subKeyId` | `number` | `undefined` | sub key id |
| `context` | `string` | `'unknown'` | It don't have to be secret and can have a low entropy |

#### Returns

`string`

#### Defined in

[kdf.ts:26](https://github.com/brickdoc/brickdoc/blob/5e2ec65d/packages/cypherpunk/src/kdf.ts#L26)

___

### <a id="generatekey" name="generatekey"></a> generateKey

▸ **generateKey**(): `string`

Generate a new master key.

#### Returns

`string`

hex encoded string

#### Defined in

[kdf.ts:13](https://github.com/brickdoc/brickdoc/blob/5e2ec65d/packages/cypherpunk/src/kdf.ts#L13)

___

### <a id="generichash" name="generichash"></a> genericHash

▸ **genericHash**(`input`, `salt?`, `outputLength?`): `string`

Computes a fixed-length fingerprint of a string.
Suitable for most use cases other than hashing passwords.

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `input` | `string` | `undefined` | Message String |
| `salt?` | `string` | `undefined` | Hash salt |
| `outputLength` | `number` | `32` | Output length, default is 32 bytes. |

#### Returns

`string`

hex string

#### Defined in

[genericHash.ts:12](https://github.com/brickdoc/brickdoc/blob/5e2ec65d/packages/cypherpunk/src/genericHash.ts#L12)

___

### <a id="passwordhash" name="passwordhash"></a> passwordHash

▸ **passwordHash**(`password`, `opslimit?`, `memlimit?`): `string`

Generate a password hash and salt using Argon2id

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `password` | `string` | `undefined` | input string |
| `opslimit` | `number` | `defaultOps` | number of iterations |
| `memlimit` | `number` | `defaultMem` | number of bytes of memory |

#### Returns

`string`

password hash

#### Defined in

[passwordHash.ts:26](https://github.com/brickdoc/brickdoc/blob/5e2ec65d/packages/cypherpunk/src/passwordHash.ts#L26)

___

### <a id="verifypasswordhash" name="verifypasswordhash"></a> verifyPasswordHash

▸ **verifyPasswordHash**(`hash`, `password`): `boolean`

Verifies a password hash generated by `passwordHash()`

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `hash` | `string` | password hash |
| `password` | `string` | input string |

#### Returns

`boolean`

`true` if the password matches the hash

#### Defined in

[passwordHash.ts:41](https://github.com/brickdoc/brickdoc/blob/5e2ec65d/packages/cypherpunk/src/passwordHash.ts#L41)
