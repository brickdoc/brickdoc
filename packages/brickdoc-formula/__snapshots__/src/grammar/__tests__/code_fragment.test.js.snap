// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Code fragment ok = (1 + 1) / 2 * 0.1 == (!!true and false or true) == "123" 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                17,
                18,
                20,
                21,
              ],
              "categoryMatchesMap": Object {
                "17": true,
                "18": true,
                "20": true,
                "21": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 17,
        },
        "tokenTypeIdx": 17,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "lhs": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "EqualCompareOperator": Array [
                              Object {
                                "endColumn": 22,
                                "endLine": 1,
                                "endOffset": 21,
                                "image": "==",
                                "startColumn": 21,
                                "startLine": 1,
                                "startOffset": 20,
                                "tokenType": Object {
                                  "CATEGORIES": Array [
                                    Object {
                                      "CATEGORIES": Array [],
                                      "PATTERN": /NOT_APPLICABLE/,
                                      "categoryMatches": Array [
                                        17,
                                        18,
                                        20,
                                        21,
                                      ],
                                      "categoryMatchesMap": Object {
                                        "17": true,
                                        "18": true,
                                        "20": true,
                                        "21": true,
                                      },
                                      "isParent": true,
                                      "name": "EqualCompareOperator",
                                      "tokenTypeIdx": 3,
                                    },
                                  ],
                                  "PATTERN": /==/,
                                  "categoryMatches": Array [],
                                  "categoryMatchesMap": Object {},
                                  "isParent": false,
                                  "name": "Equal2",
                                  "tokenTypeIdx": 18,
                                },
                                "tokenTypeIdx": 18,
                              },
                              Object {
                                "endColumn": 52,
                                "endLine": 1,
                                "endOffset": 51,
                                "image": "==",
                                "startColumn": 51,
                                "startLine": 1,
                                "startOffset": 50,
                                "tokenType": Object {
                                  "CATEGORIES": Array [
                                    Object {
                                      "CATEGORIES": Array [],
                                      "PATTERN": /NOT_APPLICABLE/,
                                      "categoryMatches": Array [
                                        17,
                                        18,
                                        20,
                                        21,
                                      ],
                                      "categoryMatchesMap": Object {
                                        "17": true,
                                        "18": true,
                                        "20": true,
                                        "21": true,
                                      },
                                      "isParent": true,
                                      "name": "EqualCompareOperator",
                                      "tokenTypeIdx": 3,
                                    },
                                  ],
                                  "PATTERN": /==/,
                                  "categoryMatches": Array [],
                                  "categoryMatchesMap": Object {},
                                  "isParent": false,
                                  "name": "Equal2",
                                  "tokenTypeIdx": 18,
                                },
                                "tokenTypeIdx": 18,
                              },
                            ],
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "MultiplicationOperator": Array [
                                                            Object {
                                                              "endColumn": 11,
                                                              "endLine": 1,
                                                              "endOffset": 10,
                                                              "image": "/",
                                                              "startColumn": 11,
                                                              "startLine": 1,
                                                              "startOffset": 10,
                                                              "tokenType": Object {
                                                                "CATEGORIES": Array [
                                                                  Object {
                                                                    "CATEGORIES": Array [],
                                                                    "PATTERN": /NOT_APPLICABLE/,
                                                                    "categoryMatches": Array [
                                                                      26,
                                                                      34,
                                                                      35,
                                                                    ],
                                                                    "categoryMatchesMap": Object {
                                                                      "26": true,
                                                                      "34": true,
                                                                      "35": true,
                                                                    },
                                                                    "isParent": true,
                                                                    "name": "MultiplicationOperator",
                                                                    "tokenTypeIdx": 6,
                                                                  },
                                                                ],
                                                                "PATTERN": /\\\\//,
                                                                "categoryMatches": Array [],
                                                                "categoryMatchesMap": Object {},
                                                                "isParent": false,
                                                                "name": "Div",
                                                                "tokenTypeIdx": 35,
                                                              },
                                                              "tokenTypeIdx": 35,
                                                            },
                                                            Object {
                                                              "endColumn": 15,
                                                              "endLine": 1,
                                                              "endOffset": 14,
                                                              "image": "*",
                                                              "startColumn": 15,
                                                              "startLine": 1,
                                                              "startOffset": 14,
                                                              "tokenType": Object {
                                                                "CATEGORIES": Array [
                                                                  Object {
                                                                    "CATEGORIES": Array [],
                                                                    "PATTERN": /NOT_APPLICABLE/,
                                                                    "categoryMatches": Array [
                                                                      26,
                                                                      34,
                                                                      35,
                                                                    ],
                                                                    "categoryMatchesMap": Object {
                                                                      "26": true,
                                                                      "34": true,
                                                                      "35": true,
                                                                    },
                                                                    "isParent": true,
                                                                    "name": "MultiplicationOperator",
                                                                    "tokenTypeIdx": 6,
                                                                  },
                                                                ],
                                                                "PATTERN": /\\\\\\*/,
                                                                "categoryMatches": Array [],
                                                                "categoryMatchesMap": Object {},
                                                                "isParent": false,
                                                                "name": "Multi",
                                                                "tokenTypeIdx": 34,
                                                              },
                                                              "tokenTypeIdx": 34,
                                                            },
                                                          ],
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "parenthesisExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "LParen": Array [
                                                                                    Object {
                                                                                      "endColumn": 3,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 2,
                                                                                      "image": "(",
                                                                                      "startColumn": 3,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 2,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\\\\\(/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "LParen",
                                                                                        "tokenTypeIdx": 36,
                                                                                      },
                                                                                      "tokenTypeIdx": 36,
                                                                                    },
                                                                                  ],
                                                                                  "RParen": Array [
                                                                                    Object {
                                                                                      "endColumn": 9,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 8,
                                                                                      "image": ")",
                                                                                      "startColumn": 9,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 8,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\\\\\)/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "RParen",
                                                                                        "tokenTypeIdx": 37,
                                                                                      },
                                                                                      "tokenTypeIdx": 37,
                                                                                    },
                                                                                  ],
                                                                                  "expression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "lhs": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "lhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "rhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "AdditionOperator": Array [
                                                                                                                                    Object {
                                                                                                                                      "endColumn": 6,
                                                                                                                                      "endLine": 1,
                                                                                                                                      "endOffset": 5,
                                                                                                                                      "image": "+",
                                                                                                                                      "startColumn": 6,
                                                                                                                                      "startLine": 1,
                                                                                                                                      "startOffset": 5,
                                                                                                                                      "tokenType": Object {
                                                                                                                                        "CATEGORIES": Array [
                                                                                                                                          Object {
                                                                                                                                            "CATEGORIES": Array [],
                                                                                                                                            "PATTERN": /NOT_APPLICABLE/,
                                                                                                                                            "categoryMatches": Array [
                                                                                                                                              24,
                                                                                                                                              33,
                                                                                                                                            ],
                                                                                                                                            "categoryMatchesMap": Object {
                                                                                                                                              "24": true,
                                                                                                                                              "33": true,
                                                                                                                                            },
                                                                                                                                            "isParent": true,
                                                                                                                                            "name": "AdditionOperator",
                                                                                                                                            "tokenTypeIdx": 5,
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                        "PATTERN": /\\\\\\+/,
                                                                                                                                        "categoryMatches": Array [],
                                                                                                                                        "categoryMatchesMap": Object {},
                                                                                                                                        "isParent": false,
                                                                                                                                        "name": "Plus",
                                                                                                                                        "tokenTypeIdx": 24,
                                                                                                                                      },
                                                                                                                                      "tokenTypeIdx": 24,
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "lhs": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "lhs": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "simpleAtomicExpression": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "constantExpression": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "NumberLiteralExpression": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "NumberLiteral": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "endColumn": 4,
                                                                                                                                                                          "endLine": 1,
                                                                                                                                                                          "endOffset": 3,
                                                                                                                                                                          "image": "1",
                                                                                                                                                                          "startColumn": 4,
                                                                                                                                                                          "startLine": 1,
                                                                                                                                                                          "startOffset": 3,
                                                                                                                                                                          "tokenType": Object {
                                                                                                                                                                            "CATEGORIES": Array [],
                                                                                                                                                                            "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                                                                                                            "categoryMatches": Array [],
                                                                                                                                                                            "categoryMatchesMap": Object {},
                                                                                                                                                                            "isParent": false,
                                                                                                                                                                            "name": "NumberLiteral",
                                                                                                                                                                            "tokenTypeIdx": 43,
                                                                                                                                                                          },
                                                                                                                                                                          "tokenTypeIdx": 43,
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "NumberLiteralExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "constantExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "simpleAtomicExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "atomicExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "chainExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "multiplicationExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                  "rhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "lhs": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "lhs": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "simpleAtomicExpression": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "constantExpression": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "NumberLiteralExpression": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "NumberLiteral": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "endColumn": 8,
                                                                                                                                                                          "endLine": 1,
                                                                                                                                                                          "endOffset": 7,
                                                                                                                                                                          "image": "1",
                                                                                                                                                                          "startColumn": 8,
                                                                                                                                                                          "startLine": 1,
                                                                                                                                                                          "startOffset": 7,
                                                                                                                                                                          "tokenType": Object {
                                                                                                                                                                            "CATEGORIES": Array [],
                                                                                                                                                                            "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                                                                                                            "categoryMatches": Array [],
                                                                                                                                                                            "categoryMatchesMap": Object {},
                                                                                                                                                                            "isParent": false,
                                                                                                                                                                            "name": "NumberLiteral",
                                                                                                                                                                            "tokenTypeIdx": 43,
                                                                                                                                                                          },
                                                                                                                                                                          "tokenTypeIdx": 43,
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "NumberLiteralExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "constantExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "simpleAtomicExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "atomicExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "chainExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "multiplicationExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "additionExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "concatExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "inExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "compareExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "equalCompareExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "notExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "combineExpression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "expression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "parenthesisExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                          "rhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "constantExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "NumberLiteralExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "NumberLiteral": Array [
                                                                                          Object {
                                                                                            "endColumn": 13,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 12,
                                                                                            "image": "2",
                                                                                            "startColumn": 13,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 12,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "NumberLiteral",
                                                                                              "tokenTypeIdx": 43,
                                                                                            },
                                                                                            "tokenTypeIdx": 43,
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "NumberLiteralExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "constantExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "constantExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "NumberLiteralExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "NumberLiteral": Array [
                                                                                          Object {
                                                                                            "endColumn": 19,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 18,
                                                                                            "image": "0.1",
                                                                                            "startColumn": 17,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 16,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "NumberLiteral",
                                                                                              "tokenTypeIdx": 43,
                                                                                            },
                                                                                            "tokenTypeIdx": 43,
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "NumberLiteralExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "constantExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                            },
                                            "name": "concatExpression",
                                          },
                                        ],
                                      },
                                      "name": "inExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                            "rhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "parenthesisExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "LParen": Array [
                                                                                    Object {
                                                                                      "endColumn": 24,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 23,
                                                                                      "image": "(",
                                                                                      "startColumn": 24,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 23,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\\\\\(/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "LParen",
                                                                                        "tokenTypeIdx": 36,
                                                                                      },
                                                                                      "tokenTypeIdx": 36,
                                                                                    },
                                                                                  ],
                                                                                  "RParen": Array [
                                                                                    Object {
                                                                                      "endColumn": 49,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 48,
                                                                                      "image": ")",
                                                                                      "startColumn": 49,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 48,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\\\\\)/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "RParen",
                                                                                        "tokenTypeIdx": 37,
                                                                                      },
                                                                                      "tokenTypeIdx": 37,
                                                                                    },
                                                                                  ],
                                                                                  "expression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "lhs": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "CombineOperator": Array [
                                                                                                Object {
                                                                                                  "endColumn": 34,
                                                                                                  "endLine": 1,
                                                                                                  "endOffset": 33,
                                                                                                  "image": "and",
                                                                                                  "startColumn": 32,
                                                                                                  "startLine": 1,
                                                                                                  "startOffset": 31,
                                                                                                  "tokenType": Object {
                                                                                                    "CATEGORIES": Array [
                                                                                                      Object {
                                                                                                        "CATEGORIES": Array [],
                                                                                                        "PATTERN": /NOT_APPLICABLE/,
                                                                                                        "categoryMatches": Array [
                                                                                                          13,
                                                                                                          14,
                                                                                                        ],
                                                                                                        "categoryMatchesMap": Object {
                                                                                                          "13": true,
                                                                                                          "14": true,
                                                                                                        },
                                                                                                        "isParent": true,
                                                                                                        "name": "CombineOperator",
                                                                                                        "tokenTypeIdx": 7,
                                                                                                      },
                                                                                                    ],
                                                                                                    "PATTERN": /and\\|&&/,
                                                                                                    "categoryMatches": Array [],
                                                                                                    "categoryMatchesMap": Object {},
                                                                                                    "isParent": false,
                                                                                                    "name": "And",
                                                                                                    "tokenTypeIdx": 13,
                                                                                                  },
                                                                                                  "tokenTypeIdx": 13,
                                                                                                },
                                                                                                Object {
                                                                                                  "endColumn": 43,
                                                                                                  "endLine": 1,
                                                                                                  "endOffset": 42,
                                                                                                  "image": "or",
                                                                                                  "startColumn": 42,
                                                                                                  "startLine": 1,
                                                                                                  "startOffset": 41,
                                                                                                  "tokenType": Object {
                                                                                                    "CATEGORIES": Array [
                                                                                                      Object {
                                                                                                        "CATEGORIES": Array [],
                                                                                                        "PATTERN": /NOT_APPLICABLE/,
                                                                                                        "categoryMatches": Array [
                                                                                                          13,
                                                                                                          14,
                                                                                                        ],
                                                                                                        "categoryMatchesMap": Object {
                                                                                                          "13": true,
                                                                                                          "14": true,
                                                                                                        },
                                                                                                        "isParent": true,
                                                                                                        "name": "CombineOperator",
                                                                                                        "tokenTypeIdx": 7,
                                                                                                      },
                                                                                                    ],
                                                                                                    "PATTERN": /or\\|\\\\\\|\\\\\\|/,
                                                                                                    "categoryMatches": Array [],
                                                                                                    "categoryMatchesMap": Object {},
                                                                                                    "isParent": false,
                                                                                                    "name": "Or",
                                                                                                    "tokenTypeIdx": 14,
                                                                                                  },
                                                                                                  "tokenTypeIdx": 14,
                                                                                                },
                                                                                              ],
                                                                                              "lhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "endColumn": 25,
                                                                                                        "endLine": 1,
                                                                                                        "endOffset": 24,
                                                                                                        "image": "!",
                                                                                                        "startColumn": 25,
                                                                                                        "startLine": 1,
                                                                                                        "startOffset": 24,
                                                                                                        "tokenType": Object {
                                                                                                          "CATEGORIES": Array [],
                                                                                                          "PATTERN": /not\\|!/,
                                                                                                          "categoryMatches": Array [],
                                                                                                          "categoryMatchesMap": Object {},
                                                                                                          "isParent": false,
                                                                                                          "name": "Not",
                                                                                                          "tokenTypeIdx": 15,
                                                                                                        },
                                                                                                        "tokenTypeIdx": 15,
                                                                                                      },
                                                                                                      Object {
                                                                                                        "endColumn": 26,
                                                                                                        "endLine": 1,
                                                                                                        "endOffset": 25,
                                                                                                        "image": "!",
                                                                                                        "startColumn": 26,
                                                                                                        "startLine": 1,
                                                                                                        "startOffset": 25,
                                                                                                        "tokenType": Object {
                                                                                                          "CATEGORIES": Array [],
                                                                                                          "PATTERN": /not\\|!/,
                                                                                                          "categoryMatches": Array [],
                                                                                                          "categoryMatchesMap": Object {},
                                                                                                          "isParent": false,
                                                                                                          "name": "Not",
                                                                                                          "tokenTypeIdx": 15,
                                                                                                        },
                                                                                                        "tokenTypeIdx": 15,
                                                                                                      },
                                                                                                    ],
                                                                                                    "rhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "lhs": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "lhs": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "simpleAtomicExpression": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "constantExpression": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "BooleanLiteralExpression": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "BooleanLiteral": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "endColumn": 30,
                                                                                                                                                                          "endLine": 1,
                                                                                                                                                                          "endOffset": 29,
                                                                                                                                                                          "image": "true",
                                                                                                                                                                          "startColumn": 27,
                                                                                                                                                                          "startLine": 1,
                                                                                                                                                                          "startOffset": 26,
                                                                                                                                                                          "tokenType": Object {
                                                                                                                                                                            "CATEGORIES": Array [],
                                                                                                                                                                            "PATTERN": /true\\|false/,
                                                                                                                                                                            "categoryMatches": Array [],
                                                                                                                                                                            "categoryMatchesMap": Object {},
                                                                                                                                                                            "isParent": false,
                                                                                                                                                                            "name": "BooleanLiteral",
                                                                                                                                                                            "tokenTypeIdx": 44,
                                                                                                                                                                          },
                                                                                                                                                                          "tokenTypeIdx": 44,
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "BooleanLiteralExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "constantExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "simpleAtomicExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "atomicExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "chainExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "multiplicationExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "additionExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "concatExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "inExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "compareExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "equalCompareExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "notExpression",
                                                                                                },
                                                                                              ],
                                                                                              "rhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "rhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "lhs": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "lhs": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "simpleAtomicExpression": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "constantExpression": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "BooleanLiteralExpression": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "BooleanLiteral": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "endColumn": 40,
                                                                                                                                                                          "endLine": 1,
                                                                                                                                                                          "endOffset": 39,
                                                                                                                                                                          "image": "false",
                                                                                                                                                                          "startColumn": 36,
                                                                                                                                                                          "startLine": 1,
                                                                                                                                                                          "startOffset": 35,
                                                                                                                                                                          "tokenType": Object {
                                                                                                                                                                            "CATEGORIES": Array [],
                                                                                                                                                                            "PATTERN": /true\\|false/,
                                                                                                                                                                            "categoryMatches": Array [],
                                                                                                                                                                            "categoryMatchesMap": Object {},
                                                                                                                                                                            "isParent": false,
                                                                                                                                                                            "name": "BooleanLiteral",
                                                                                                                                                                            "tokenTypeIdx": 44,
                                                                                                                                                                          },
                                                                                                                                                                          "tokenTypeIdx": 44,
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "BooleanLiteralExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "constantExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "simpleAtomicExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "atomicExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "chainExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "multiplicationExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "additionExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "concatExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "inExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "compareExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "equalCompareExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "notExpression",
                                                                                                },
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "rhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "lhs": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "lhs": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "simpleAtomicExpression": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "constantExpression": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "BooleanLiteralExpression": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "BooleanLiteral": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "endColumn": 48,
                                                                                                                                                                          "endLine": 1,
                                                                                                                                                                          "endOffset": 47,
                                                                                                                                                                          "image": "true",
                                                                                                                                                                          "startColumn": 45,
                                                                                                                                                                          "startLine": 1,
                                                                                                                                                                          "startOffset": 44,
                                                                                                                                                                          "tokenType": Object {
                                                                                                                                                                            "CATEGORIES": Array [],
                                                                                                                                                                            "PATTERN": /true\\|false/,
                                                                                                                                                                            "categoryMatches": Array [],
                                                                                                                                                                            "categoryMatchesMap": Object {},
                                                                                                                                                                            "isParent": false,
                                                                                                                                                                            "name": "BooleanLiteral",
                                                                                                                                                                            "tokenTypeIdx": 44,
                                                                                                                                                                          },
                                                                                                                                                                          "tokenTypeIdx": 44,
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "BooleanLiteralExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "constantExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "simpleAtomicExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "atomicExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "chainExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "multiplicationExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "additionExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "concatExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "inExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "compareExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "equalCompareExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "notExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "combineExpression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "expression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "parenthesisExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                            },
                                            "name": "concatExpression",
                                          },
                                        ],
                                      },
                                      "name": "inExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "constantExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "StringLiteral": Array [
                                                                                    Object {
                                                                                      "endColumn": 58,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 57,
                                                                                      "image": "\\"123\\"",
                                                                                      "startColumn": 54,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 53,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /"\\(""\\|\\[\\^"\\]\\)\\*"/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "StringLiteral",
                                                                                        "tokenTypeIdx": 45,
                                                                                      },
                                                                                      "tokenTypeIdx": 45,
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "constantExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                            },
                                            "name": "concatExpression",
                                          },
                                        ],
                                      },
                                      "name": "inExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok = (1 + 1) / 2 * 0.1 == (!!true and false or true) == "123" 2`] = `
Array [
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": undefined,
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": undefined,
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": undefined,
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "Div",
    "errors": Array [],
    "meta": undefined,
    "name": "/",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "2",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "Multi",
    "errors": Array [],
    "meta": undefined,
    "name": "*",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "0.1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "Equal2",
    "errors": Array [],
    "meta": undefined,
    "name": "==",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "boolean",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": undefined,
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Not",
    "errors": Array [],
    "meta": undefined,
    "name": "!",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "Not",
    "errors": Array [],
    "meta": undefined,
    "name": "!",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "BooleanLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "true",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "And",
    "errors": Array [],
    "meta": undefined,
    "name": "and",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "boolean",
  },
  Object {
    "code": "BooleanLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "false",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "Or",
    "errors": Array [],
    "meta": undefined,
    "name": "or",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "boolean",
  },
  Object {
    "code": "BooleanLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "true",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": undefined,
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "boolean",
  },
  Object {
    "code": "Equal2",
    "errors": Array [],
    "meta": undefined,
    "name": "==",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "boolean",
  },
  Object {
    "code": "StringLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "\\"123\\"",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "string",
  },
]
`;

exports[`Code fragment ok = ABS("123") 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                17,
                18,
                20,
                21,
              ],
              "categoryMatchesMap": Object {
                "17": true,
                "18": true,
                "20": true,
                "21": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 17,
        },
        "tokenTypeIdx": 17,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "lhs": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "FunctionCall": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "Arguments": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "expression": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "lhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "rhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "lhs": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "lhs": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "lhs": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "simpleAtomicExpression": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "constantExpression": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "StringLiteral": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "endColumn": 11,
                                                                                                                                                                          "endLine": 1,
                                                                                                                                                                          "endOffset": 10,
                                                                                                                                                                          "image": "\\"123\\"",
                                                                                                                                                                          "startColumn": 7,
                                                                                                                                                                          "startLine": 1,
                                                                                                                                                                          "startOffset": 6,
                                                                                                                                                                          "tokenType": Object {
                                                                                                                                                                            "CATEGORIES": Array [],
                                                                                                                                                                            "PATTERN": /"\\(""\\|\\[\\^"\\]\\)\\*"/,
                                                                                                                                                                            "categoryMatches": Array [],
                                                                                                                                                                            "categoryMatchesMap": Object {},
                                                                                                                                                                            "isParent": false,
                                                                                                                                                                            "name": "StringLiteral",
                                                                                                                                                                            "tokenTypeIdx": 45,
                                                                                                                                                                          },
                                                                                                                                                                          "tokenTypeIdx": 45,
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "constantExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "simpleAtomicExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "atomicExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "chainExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "multiplicationExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "additionExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "concatExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "inExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "compareExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "equalCompareExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "notExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "combineExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "expression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "Arguments",
                                                                                    },
                                                                                  ],
                                                                                  "FunctionName": Array [
                                                                                    Object {
                                                                                      "endColumn": 5,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 4,
                                                                                      "image": "ABS",
                                                                                      "startColumn": 3,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 2,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "FunctionName",
                                                                                        "tokenTypeIdx": 51,
                                                                                      },
                                                                                      "tokenTypeIdx": 51,
                                                                                    },
                                                                                  ],
                                                                                  "LParen": Array [
                                                                                    Object {
                                                                                      "endColumn": 6,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 5,
                                                                                      "image": "(",
                                                                                      "startColumn": 6,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 5,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\\\\\(/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "LParen",
                                                                                        "tokenTypeIdx": 36,
                                                                                      },
                                                                                      "tokenTypeIdx": 36,
                                                                                    },
                                                                                  ],
                                                                                  "RParen": Array [
                                                                                    Object {
                                                                                      "endColumn": 12,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 11,
                                                                                      "image": ")",
                                                                                      "startColumn": 12,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 11,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\\\\\)/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "RParen",
                                                                                        "tokenTypeIdx": 37,
                                                                                      },
                                                                                      "tokenTypeIdx": 37,
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "FunctionCall",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                            },
                                            "name": "concatExpression",
                                          },
                                        ],
                                      },
                                      "name": "inExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok = ABS("123") 2`] = `
Array [
  Object {
    "code": "Function",
    "errors": Array [],
    "meta": undefined,
    "name": "ABS",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": undefined,
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "StringLiteral",
    "errors": Array [
      Object {
        "message": "Expected number but got string",
        "type": "type",
      },
    ],
    "meta": undefined,
    "name": "\\"123\\"",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "string",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": undefined,
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "number",
  },
]
`;

exports[`Code fragment ok = custom::PLUS((custom::FORTY_TWO()), 1 + 1) 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                17,
                18,
                20,
                21,
              ],
              "categoryMatchesMap": Object {
                "17": true,
                "18": true,
                "20": true,
                "21": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 17,
        },
        "tokenTypeIdx": 17,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "lhs": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "FunctionCall": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "Arguments": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "Comma": Array [
                                                                                          Object {
                                                                                            "endColumn": 37,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 36,
                                                                                            "image": ",",
                                                                                            "startColumn": 37,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 36,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /,/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "Comma",
                                                                                              "tokenTypeIdx": 47,
                                                                                            },
                                                                                            "tokenTypeIdx": 47,
                                                                                          },
                                                                                        ],
                                                                                        "expression": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "lhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "rhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "lhs": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "lhs": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "lhs": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "simpleAtomicExpression": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "parenthesisExpression": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "LParen": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "endColumn": 16,
                                                                                                                                                                          "endLine": 1,
                                                                                                                                                                          "endOffset": 15,
                                                                                                                                                                          "image": "(",
                                                                                                                                                                          "startColumn": 16,
                                                                                                                                                                          "startLine": 1,
                                                                                                                                                                          "startOffset": 15,
                                                                                                                                                                          "tokenType": Object {
                                                                                                                                                                            "CATEGORIES": Array [],
                                                                                                                                                                            "PATTERN": /\\\\\\(/,
                                                                                                                                                                            "categoryMatches": Array [],
                                                                                                                                                                            "categoryMatchesMap": Object {},
                                                                                                                                                                            "isParent": false,
                                                                                                                                                                            "name": "LParen",
                                                                                                                                                                            "tokenTypeIdx": 36,
                                                                                                                                                                          },
                                                                                                                                                                          "tokenTypeIdx": 36,
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                      "RParen": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "endColumn": 36,
                                                                                                                                                                          "endLine": 1,
                                                                                                                                                                          "endOffset": 35,
                                                                                                                                                                          "image": ")",
                                                                                                                                                                          "startColumn": 36,
                                                                                                                                                                          "startLine": 1,
                                                                                                                                                                          "startOffset": 35,
                                                                                                                                                                          "tokenType": Object {
                                                                                                                                                                            "CATEGORIES": Array [],
                                                                                                                                                                            "PATTERN": /\\\\\\)/,
                                                                                                                                                                            "categoryMatches": Array [],
                                                                                                                                                                            "categoryMatchesMap": Object {},
                                                                                                                                                                            "isParent": false,
                                                                                                                                                                            "name": "RParen",
                                                                                                                                                                            "tokenTypeIdx": 37,
                                                                                                                                                                          },
                                                                                                                                                                          "tokenTypeIdx": 37,
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                      "expression": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "children": Object {
                                                                                                                                                                            "lhs": Array [
                                                                                                                                                                              Object {
                                                                                                                                                                                "children": Object {
                                                                                                                                                                                  "lhs": Array [
                                                                                                                                                                                    Object {
                                                                                                                                                                                      "children": Object {
                                                                                                                                                                                        "rhs": Array [
                                                                                                                                                                                          Object {
                                                                                                                                                                                            "children": Object {
                                                                                                                                                                                              "lhs": Array [
                                                                                                                                                                                                Object {
                                                                                                                                                                                                  "children": Object {
                                                                                                                                                                                                    "lhs": Array [
                                                                                                                                                                                                      Object {
                                                                                                                                                                                                        "children": Object {
                                                                                                                                                                                                          "lhs": Array [
                                                                                                                                                                                                            Object {
                                                                                                                                                                                                              "children": Object {
                                                                                                                                                                                                                "lhs": Array [
                                                                                                                                                                                                                  Object {
                                                                                                                                                                                                                    "children": Object {
                                                                                                                                                                                                                      "lhs": Array [
                                                                                                                                                                                                                        Object {
                                                                                                                                                                                                                          "children": Object {
                                                                                                                                                                                                                            "lhs": Array [
                                                                                                                                                                                                                              Object {
                                                                                                                                                                                                                                "children": Object {
                                                                                                                                                                                                                                  "lhs": Array [
                                                                                                                                                                                                                                    Object {
                                                                                                                                                                                                                                      "children": Object {
                                                                                                                                                                                                                                        "simpleAtomicExpression": Array [
                                                                                                                                                                                                                                          Object {
                                                                                                                                                                                                                                            "children": Object {
                                                                                                                                                                                                                                              "FunctionCall": Array [
                                                                                                                                                                                                                                                Object {
                                                                                                                                                                                                                                                  "children": Object {
                                                                                                                                                                                                                                                    "DoubleColon": Array [
                                                                                                                                                                                                                                                      Object {
                                                                                                                                                                                                                                                        "endColumn": 24,
                                                                                                                                                                                                                                                        "endLine": 1,
                                                                                                                                                                                                                                                        "endOffset": 23,
                                                                                                                                                                                                                                                        "image": "::",
                                                                                                                                                                                                                                                        "startColumn": 23,
                                                                                                                                                                                                                                                        "startLine": 1,
                                                                                                                                                                                                                                                        "startOffset": 22,
                                                                                                                                                                                                                                                        "tokenType": Object {
                                                                                                                                                                                                                                                          "CATEGORIES": Array [],
                                                                                                                                                                                                                                                          "PATTERN": /::/,
                                                                                                                                                                                                                                                          "categoryMatches": Array [],
                                                                                                                                                                                                                                                          "categoryMatchesMap": Object {},
                                                                                                                                                                                                                                                          "isParent": false,
                                                                                                                                                                                                                                                          "name": "DoubleColon",
                                                                                                                                                                                                                                                          "tokenTypeIdx": 49,
                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                        "tokenTypeIdx": 49,
                                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                    "FunctionName": Array [
                                                                                                                                                                                                                                                      Object {
                                                                                                                                                                                                                                                        "endColumn": 22,
                                                                                                                                                                                                                                                        "endLine": 1,
                                                                                                                                                                                                                                                        "endOffset": 21,
                                                                                                                                                                                                                                                        "image": "custom",
                                                                                                                                                                                                                                                        "startColumn": 17,
                                                                                                                                                                                                                                                        "startLine": 1,
                                                                                                                                                                                                                                                        "startOffset": 16,
                                                                                                                                                                                                                                                        "tokenType": Object {
                                                                                                                                                                                                                                                          "CATEGORIES": Array [],
                                                                                                                                                                                                                                                          "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                                                                                                                                                                                                          "categoryMatches": Array [],
                                                                                                                                                                                                                                                          "categoryMatchesMap": Object {},
                                                                                                                                                                                                                                                          "isParent": false,
                                                                                                                                                                                                                                                          "name": "FunctionName",
                                                                                                                                                                                                                                                          "tokenTypeIdx": 51,
                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                        "tokenTypeIdx": 51,
                                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                                      Object {
                                                                                                                                                                                                                                                        "endColumn": 33,
                                                                                                                                                                                                                                                        "endLine": 1,
                                                                                                                                                                                                                                                        "endOffset": 32,
                                                                                                                                                                                                                                                        "image": "FORTY_TWO",
                                                                                                                                                                                                                                                        "startColumn": 25,
                                                                                                                                                                                                                                                        "startLine": 1,
                                                                                                                                                                                                                                                        "startOffset": 24,
                                                                                                                                                                                                                                                        "tokenType": Object {
                                                                                                                                                                                                                                                          "CATEGORIES": Array [],
                                                                                                                                                                                                                                                          "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                                                                                                                                                                                                          "categoryMatches": Array [],
                                                                                                                                                                                                                                                          "categoryMatchesMap": Object {},
                                                                                                                                                                                                                                                          "isParent": false,
                                                                                                                                                                                                                                                          "name": "FunctionName",
                                                                                                                                                                                                                                                          "tokenTypeIdx": 51,
                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                        "tokenTypeIdx": 51,
                                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                    "LParen": Array [
                                                                                                                                                                                                                                                      Object {
                                                                                                                                                                                                                                                        "endColumn": 34,
                                                                                                                                                                                                                                                        "endLine": 1,
                                                                                                                                                                                                                                                        "endOffset": 33,
                                                                                                                                                                                                                                                        "image": "(",
                                                                                                                                                                                                                                                        "startColumn": 34,
                                                                                                                                                                                                                                                        "startLine": 1,
                                                                                                                                                                                                                                                        "startOffset": 33,
                                                                                                                                                                                                                                                        "tokenType": Object {
                                                                                                                                                                                                                                                          "CATEGORIES": Array [],
                                                                                                                                                                                                                                                          "PATTERN": /\\\\\\(/,
                                                                                                                                                                                                                                                          "categoryMatches": Array [],
                                                                                                                                                                                                                                                          "categoryMatchesMap": Object {},
                                                                                                                                                                                                                                                          "isParent": false,
                                                                                                                                                                                                                                                          "name": "LParen",
                                                                                                                                                                                                                                                          "tokenTypeIdx": 36,
                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                        "tokenTypeIdx": 36,
                                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                    "RParen": Array [
                                                                                                                                                                                                                                                      Object {
                                                                                                                                                                                                                                                        "endColumn": 35,
                                                                                                                                                                                                                                                        "endLine": 1,
                                                                                                                                                                                                                                                        "endOffset": 34,
                                                                                                                                                                                                                                                        "image": ")",
                                                                                                                                                                                                                                                        "startColumn": 35,
                                                                                                                                                                                                                                                        "startLine": 1,
                                                                                                                                                                                                                                                        "startOffset": 34,
                                                                                                                                                                                                                                                        "tokenType": Object {
                                                                                                                                                                                                                                                          "CATEGORIES": Array [],
                                                                                                                                                                                                                                                          "PATTERN": /\\\\\\)/,
                                                                                                                                                                                                                                                          "categoryMatches": Array [],
                                                                                                                                                                                                                                                          "categoryMatchesMap": Object {},
                                                                                                                                                                                                                                                          "isParent": false,
                                                                                                                                                                                                                                                          "name": "RParen",
                                                                                                                                                                                                                                                          "tokenTypeIdx": 37,
                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                        "tokenTypeIdx": 37,
                                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                                                  },
                                                                                                                                                                                                                                                  "name": "FunctionCall",
                                                                                                                                                                                                                                                },
                                                                                                                                                                                                                                              ],
                                                                                                                                                                                                                                            },
                                                                                                                                                                                                                                            "name": "simpleAtomicExpression",
                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                                        ],
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                      "name": "atomicExpression",
                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                  ],
                                                                                                                                                                                                                                },
                                                                                                                                                                                                                                "name": "chainExpression",
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                            ],
                                                                                                                                                                                                                          },
                                                                                                                                                                                                                          "name": "multiplicationExpression",
                                                                                                                                                                                                                        },
                                                                                                                                                                                                                      ],
                                                                                                                                                                                                                    },
                                                                                                                                                                                                                    "name": "additionExpression",
                                                                                                                                                                                                                  },
                                                                                                                                                                                                                ],
                                                                                                                                                                                                              },
                                                                                                                                                                                                              "name": "concatExpression",
                                                                                                                                                                                                            },
                                                                                                                                                                                                          ],
                                                                                                                                                                                                        },
                                                                                                                                                                                                        "name": "inExpression",
                                                                                                                                                                                                      },
                                                                                                                                                                                                    ],
                                                                                                                                                                                                  },
                                                                                                                                                                                                  "name": "compareExpression",
                                                                                                                                                                                                },
                                                                                                                                                                                              ],
                                                                                                                                                                                            },
                                                                                                                                                                                            "name": "equalCompareExpression",
                                                                                                                                                                                          },
                                                                                                                                                                                        ],
                                                                                                                                                                                      },
                                                                                                                                                                                      "name": "notExpression",
                                                                                                                                                                                    },
                                                                                                                                                                                  ],
                                                                                                                                                                                },
                                                                                                                                                                                "name": "combineExpression",
                                                                                                                                                                              },
                                                                                                                                                                            ],
                                                                                                                                                                          },
                                                                                                                                                                          "name": "expression",
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "parenthesisExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "simpleAtomicExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "atomicExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "chainExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "multiplicationExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "additionExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "concatExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "inExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "compareExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "equalCompareExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "notExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "combineExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "expression",
                                                                                          },
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "lhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "rhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "AdditionOperator": Array [
                                                                                                                                          Object {
                                                                                                                                            "endColumn": 41,
                                                                                                                                            "endLine": 1,
                                                                                                                                            "endOffset": 40,
                                                                                                                                            "image": "+",
                                                                                                                                            "startColumn": 41,
                                                                                                                                            "startLine": 1,
                                                                                                                                            "startOffset": 40,
                                                                                                                                            "tokenType": Object {
                                                                                                                                              "CATEGORIES": Array [
                                                                                                                                                Object {
                                                                                                                                                  "CATEGORIES": Array [],
                                                                                                                                                  "PATTERN": /NOT_APPLICABLE/,
                                                                                                                                                  "categoryMatches": Array [
                                                                                                                                                    24,
                                                                                                                                                    33,
                                                                                                                                                  ],
                                                                                                                                                  "categoryMatchesMap": Object {
                                                                                                                                                    "24": true,
                                                                                                                                                    "33": true,
                                                                                                                                                  },
                                                                                                                                                  "isParent": true,
                                                                                                                                                  "name": "AdditionOperator",
                                                                                                                                                  "tokenTypeIdx": 5,
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                              "PATTERN": /\\\\\\+/,
                                                                                                                                              "categoryMatches": Array [],
                                                                                                                                              "categoryMatchesMap": Object {},
                                                                                                                                              "isParent": false,
                                                                                                                                              "name": "Plus",
                                                                                                                                              "tokenTypeIdx": 24,
                                                                                                                                            },
                                                                                                                                            "tokenTypeIdx": 24,
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                        "lhs": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "lhs": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "lhs": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "simpleAtomicExpression": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "constantExpression": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "NumberLiteralExpression": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "children": Object {
                                                                                                                                                                            "NumberLiteral": Array [
                                                                                                                                                                              Object {
                                                                                                                                                                                "endColumn": 39,
                                                                                                                                                                                "endLine": 1,
                                                                                                                                                                                "endOffset": 38,
                                                                                                                                                                                "image": "1",
                                                                                                                                                                                "startColumn": 39,
                                                                                                                                                                                "startLine": 1,
                                                                                                                                                                                "startOffset": 38,
                                                                                                                                                                                "tokenType": Object {
                                                                                                                                                                                  "CATEGORIES": Array [],
                                                                                                                                                                                  "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                                                                                                                  "categoryMatches": Array [],
                                                                                                                                                                                  "categoryMatchesMap": Object {},
                                                                                                                                                                                  "isParent": false,
                                                                                                                                                                                  "name": "NumberLiteral",
                                                                                                                                                                                  "tokenTypeIdx": 43,
                                                                                                                                                                                },
                                                                                                                                                                                "tokenTypeIdx": 43,
                                                                                                                                                                              },
                                                                                                                                                                            ],
                                                                                                                                                                          },
                                                                                                                                                                          "name": "NumberLiteralExpression",
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "constantExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "simpleAtomicExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "atomicExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "chainExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "multiplicationExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                        "rhs": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "lhs": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "lhs": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "simpleAtomicExpression": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "constantExpression": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "NumberLiteralExpression": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "children": Object {
                                                                                                                                                                            "NumberLiteral": Array [
                                                                                                                                                                              Object {
                                                                                                                                                                                "endColumn": 43,
                                                                                                                                                                                "endLine": 1,
                                                                                                                                                                                "endOffset": 42,
                                                                                                                                                                                "image": "1",
                                                                                                                                                                                "startColumn": 43,
                                                                                                                                                                                "startLine": 1,
                                                                                                                                                                                "startOffset": 42,
                                                                                                                                                                                "tokenType": Object {
                                                                                                                                                                                  "CATEGORIES": Array [],
                                                                                                                                                                                  "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                                                                                                                  "categoryMatches": Array [],
                                                                                                                                                                                  "categoryMatchesMap": Object {},
                                                                                                                                                                                  "isParent": false,
                                                                                                                                                                                  "name": "NumberLiteral",
                                                                                                                                                                                  "tokenTypeIdx": 43,
                                                                                                                                                                                },
                                                                                                                                                                                "tokenTypeIdx": 43,
                                                                                                                                                                              },
                                                                                                                                                                            ],
                                                                                                                                                                          },
                                                                                                                                                                          "name": "NumberLiteralExpression",
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "constantExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "simpleAtomicExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "atomicExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "chainExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "multiplicationExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "additionExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "concatExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "inExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "compareExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "equalCompareExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "notExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "combineExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "expression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "Arguments",
                                                                                    },
                                                                                  ],
                                                                                  "DoubleColon": Array [
                                                                                    Object {
                                                                                      "endColumn": 10,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 9,
                                                                                      "image": "::",
                                                                                      "startColumn": 9,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 8,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /::/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "DoubleColon",
                                                                                        "tokenTypeIdx": 49,
                                                                                      },
                                                                                      "tokenTypeIdx": 49,
                                                                                    },
                                                                                  ],
                                                                                  "FunctionName": Array [
                                                                                    Object {
                                                                                      "endColumn": 8,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 7,
                                                                                      "image": "custom",
                                                                                      "startColumn": 3,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 2,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "FunctionName",
                                                                                        "tokenTypeIdx": 51,
                                                                                      },
                                                                                      "tokenTypeIdx": 51,
                                                                                    },
                                                                                    Object {
                                                                                      "endColumn": 14,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 13,
                                                                                      "image": "PLUS",
                                                                                      "startColumn": 11,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 10,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "FunctionName",
                                                                                        "tokenTypeIdx": 51,
                                                                                      },
                                                                                      "tokenTypeIdx": 51,
                                                                                    },
                                                                                  ],
                                                                                  "LParen": Array [
                                                                                    Object {
                                                                                      "endColumn": 15,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 14,
                                                                                      "image": "(",
                                                                                      "startColumn": 15,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 14,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\\\\\(/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "LParen",
                                                                                        "tokenTypeIdx": 36,
                                                                                      },
                                                                                      "tokenTypeIdx": 36,
                                                                                    },
                                                                                  ],
                                                                                  "RParen": Array [
                                                                                    Object {
                                                                                      "endColumn": 44,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 43,
                                                                                      "image": ")",
                                                                                      "startColumn": 44,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 43,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /\\\\\\)/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "RParen",
                                                                                        "tokenTypeIdx": 37,
                                                                                      },
                                                                                      "tokenTypeIdx": 37,
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "FunctionCall",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                            },
                                            "name": "concatExpression",
                                          },
                                        ],
                                      },
                                      "name": "inExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok = custom::PLUS((custom::FORTY_TWO()), 1 + 1) 2`] = `
Array [
  Object {
    "code": "Function",
    "errors": Array [],
    "meta": undefined,
    "name": "custom::PLUS",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": undefined,
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": undefined,
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Function",
    "errors": Array [],
    "meta": undefined,
    "name": "custom::FORTY_TWO",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": undefined,
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": undefined,
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": undefined,
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "Comma",
    "errors": Array [],
    "meta": undefined,
    "name": ",",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": undefined,
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": undefined,
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "number",
  },
]
`;

exports[`Code fragment ok ="FOO".T().T() & "Zzz" 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                17,
                18,
                20,
                21,
              ],
              "categoryMatchesMap": Object {
                "17": true,
                "18": true,
                "20": true,
                "21": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 17,
        },
        "tokenTypeIdx": 17,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "lhs": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "Ampersand": Array [
                                                Object {
                                                  "endColumn": 16,
                                                  "endLine": 1,
                                                  "endOffset": 15,
                                                  "image": "&",
                                                  "startColumn": 16,
                                                  "startLine": 1,
                                                  "startOffset": 15,
                                                  "tokenType": Object {
                                                    "CATEGORIES": Array [],
                                                    "PATTERN": /&/,
                                                    "categoryMatches": Array [],
                                                    "categoryMatchesMap": Object {},
                                                    "isParent": false,
                                                    "name": "Ampersand",
                                                    "tokenTypeIdx": 25,
                                                  },
                                                  "tokenTypeIdx": 25,
                                                },
                                              ],
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "Dot": Array [
                                                                  Object {
                                                                    "endColumn": 7,
                                                                    "endLine": 1,
                                                                    "endOffset": 6,
                                                                    "image": ".",
                                                                    "startColumn": 7,
                                                                    "startLine": 1,
                                                                    "startOffset": 6,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\\\\\./,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "Dot",
                                                                      "tokenTypeIdx": 31,
                                                                    },
                                                                    "tokenTypeIdx": 31,
                                                                  },
                                                                  Object {
                                                                    "endColumn": 11,
                                                                    "endLine": 1,
                                                                    "endOffset": 10,
                                                                    "image": ".",
                                                                    "startColumn": 11,
                                                                    "startLine": 1,
                                                                    "startOffset": 10,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\\\\\./,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "Dot",
                                                                      "tokenTypeIdx": 31,
                                                                    },
                                                                    "tokenTypeIdx": 31,
                                                                  },
                                                                ],
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "constantExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "StringLiteral": Array [
                                                                                    Object {
                                                                                      "endColumn": 6,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 5,
                                                                                      "image": "\\"FOO\\"",
                                                                                      "startColumn": 2,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 1,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /"\\(""\\|\\[\\^"\\]\\)\\*"/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "StringLiteral",
                                                                                        "tokenTypeIdx": 45,
                                                                                      },
                                                                                      "tokenTypeIdx": 45,
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "constantExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                                "rhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "FunctionName": Array [
                                                                        Object {
                                                                          "endColumn": 8,
                                                                          "endLine": 1,
                                                                          "endOffset": 7,
                                                                          "image": "T",
                                                                          "startColumn": 8,
                                                                          "startLine": 1,
                                                                          "startOffset": 7,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "FunctionName",
                                                                            "tokenTypeIdx": 51,
                                                                          },
                                                                          "tokenTypeIdx": 51,
                                                                        },
                                                                      ],
                                                                      "LParen": Array [
                                                                        Object {
                                                                          "endColumn": 9,
                                                                          "endLine": 1,
                                                                          "endOffset": 8,
                                                                          "image": "(",
                                                                          "startColumn": 9,
                                                                          "startLine": 1,
                                                                          "startOffset": 8,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\(/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "LParen",
                                                                            "tokenTypeIdx": 36,
                                                                          },
                                                                          "tokenTypeIdx": 36,
                                                                        },
                                                                      ],
                                                                      "RParen": Array [
                                                                        Object {
                                                                          "endColumn": 10,
                                                                          "endLine": 1,
                                                                          "endOffset": 9,
                                                                          "image": ")",
                                                                          "startColumn": 10,
                                                                          "startLine": 1,
                                                                          "startOffset": 9,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\)/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "RParen",
                                                                            "tokenTypeIdx": 37,
                                                                          },
                                                                          "tokenTypeIdx": 37,
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "FunctionCall",
                                                                  },
                                                                  Object {
                                                                    "children": Object {
                                                                      "FunctionName": Array [
                                                                        Object {
                                                                          "endColumn": 12,
                                                                          "endLine": 1,
                                                                          "endOffset": 11,
                                                                          "image": "T",
                                                                          "startColumn": 12,
                                                                          "startLine": 1,
                                                                          "startOffset": 11,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "FunctionName",
                                                                            "tokenTypeIdx": 51,
                                                                          },
                                                                          "tokenTypeIdx": 51,
                                                                        },
                                                                      ],
                                                                      "LParen": Array [
                                                                        Object {
                                                                          "endColumn": 13,
                                                                          "endLine": 1,
                                                                          "endOffset": 12,
                                                                          "image": "(",
                                                                          "startColumn": 13,
                                                                          "startLine": 1,
                                                                          "startOffset": 12,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\(/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "LParen",
                                                                            "tokenTypeIdx": 36,
                                                                          },
                                                                          "tokenTypeIdx": 36,
                                                                        },
                                                                      ],
                                                                      "RParen": Array [
                                                                        Object {
                                                                          "endColumn": 14,
                                                                          "endLine": 1,
                                                                          "endOffset": 13,
                                                                          "image": ")",
                                                                          "startColumn": 14,
                                                                          "startLine": 1,
                                                                          "startOffset": 13,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\)/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "RParen",
                                                                            "tokenTypeIdx": 37,
                                                                          },
                                                                          "tokenTypeIdx": 37,
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "FunctionCall",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                              "rhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "constantExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "StringLiteral": Array [
                                                                                    Object {
                                                                                      "endColumn": 22,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 21,
                                                                                      "image": "\\"Zzz\\"",
                                                                                      "startColumn": 18,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 17,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [],
                                                                                        "PATTERN": /"\\(""\\|\\[\\^"\\]\\)\\*"/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "StringLiteral",
                                                                                        "tokenTypeIdx": 45,
                                                                                      },
                                                                                      "tokenTypeIdx": 45,
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "constantExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                            },
                                            "name": "concatExpression",
                                          },
                                        ],
                                      },
                                      "name": "inExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok ="FOO".T().T() & "Zzz" 2`] = `
Array [
  Object {
    "code": "StringLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "\\"FOO\\"",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "string",
  },
  Object {
    "code": "Dot",
    "errors": Array [],
    "meta": undefined,
    "name": ".",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Function",
    "errors": Array [],
    "meta": undefined,
    "name": "T",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": undefined,
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": undefined,
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "Dot",
    "errors": Array [],
    "meta": undefined,
    "name": ".",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Function",
    "errors": Array [],
    "meta": undefined,
    "name": "T",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": undefined,
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": undefined,
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "Ampersand",
    "errors": Array [],
    "meta": undefined,
    "name": "&",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "StringLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "\\"Zzz\\"",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "string",
  },
]
`;

exports[`Code fragment ok =#57622108-1337-4edd-833a-2557835bcfe0@cd4f6e1e-765e-4064-badd-b5585c7eff8e + 3 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                17,
                18,
                20,
                21,
              ],
              "categoryMatchesMap": Object {
                "17": true,
                "18": true,
                "20": true,
                "21": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 17,
        },
        "tokenTypeIdx": 17,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "lhs": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "AdditionOperator": Array [
                                                      Object {
                                                        "endColumn": 77,
                                                        "endLine": 1,
                                                        "endOffset": 76,
                                                        "image": "+",
                                                        "startColumn": 77,
                                                        "startLine": 1,
                                                        "startOffset": 76,
                                                        "tokenType": Object {
                                                          "CATEGORIES": Array [
                                                            Object {
                                                              "CATEGORIES": Array [],
                                                              "PATTERN": /NOT_APPLICABLE/,
                                                              "categoryMatches": Array [
                                                                24,
                                                                33,
                                                              ],
                                                              "categoryMatchesMap": Object {
                                                                "24": true,
                                                                "33": true,
                                                              },
                                                              "isParent": true,
                                                              "name": "AdditionOperator",
                                                              "tokenTypeIdx": 5,
                                                            },
                                                          ],
                                                          "PATTERN": /\\\\\\+/,
                                                          "categoryMatches": Array [],
                                                          "categoryMatchesMap": Object {},
                                                          "isParent": false,
                                                          "name": "Plus",
                                                          "tokenTypeIdx": 24,
                                                        },
                                                        "tokenTypeIdx": 24,
                                                      },
                                                    ],
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "lazyVariableExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "variableExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "At": Array [
                                                                                          Object {
                                                                                            "endColumn": 39,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 38,
                                                                                            "image": "@",
                                                                                            "startColumn": 39,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 38,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /@/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "At",
                                                                                              "tokenTypeIdx": 29,
                                                                                            },
                                                                                            "tokenTypeIdx": 29,
                                                                                          },
                                                                                        ],
                                                                                        "Sharp": Array [
                                                                                          Object {
                                                                                            "endColumn": 2,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 1,
                                                                                            "image": "#",
                                                                                            "startColumn": 2,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 1,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /#/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "Sharp",
                                                                                              "tokenTypeIdx": 30,
                                                                                            },
                                                                                            "tokenTypeIdx": 30,
                                                                                          },
                                                                                        ],
                                                                                        "UUID": Array [
                                                                                          Object {
                                                                                            "endColumn": 38,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 37,
                                                                                            "image": "57622108-1337-4edd-833a-2557835bcfe0",
                                                                                            "startColumn": 3,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 2,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "UUID",
                                                                                              "tokenTypeIdx": 32,
                                                                                            },
                                                                                            "tokenTypeIdx": 32,
                                                                                          },
                                                                                          Object {
                                                                                            "endColumn": 75,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 74,
                                                                                            "image": "cd4f6e1e-765e-4064-badd-b5585c7eff8e",
                                                                                            "startColumn": 40,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 39,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "UUID",
                                                                                              "tokenTypeIdx": 32,
                                                                                            },
                                                                                            "tokenTypeIdx": 32,
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "variableExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "lazyVariableExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                    "rhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "constantExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "NumberLiteralExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "NumberLiteral": Array [
                                                                                          Object {
                                                                                            "endColumn": 79,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 78,
                                                                                            "image": "3",
                                                                                            "startColumn": 79,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 78,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "NumberLiteral",
                                                                                              "tokenTypeIdx": 43,
                                                                                            },
                                                                                            "tokenTypeIdx": 43,
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "NumberLiteralExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "constantExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                            },
                                            "name": "concatExpression",
                                          },
                                        ],
                                      },
                                      "name": "inExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok =#57622108-1337-4edd-833a-2557835bcfe0@cd4f6e1e-765e-4064-badd-b5585c7eff8e + 3 2`] = `
Array [
  Object {
    "code": "Sharp",
    "errors": Array [],
    "meta": undefined,
    "name": "#",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Variable",
    "errors": Array [
      Object {
        "message": "Variable not found: cd4f6e1e-765e-4064-badd-b5585c7eff8e",
        "type": "deps",
      },
    ],
    "meta": undefined,
    "name": "#57622108-1337-4edd-833a-2557835bcfe0@cd4f6e1e-765e-4064-badd-b5585c7eff8e",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": undefined,
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "3",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
]
`;

exports[`Code fragment ok =#57622108-1337-4edd-833a-2557835bcfe0@d986e871-cb85-4bd5-b675-87307f60b882 + 1 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                17,
                18,
                20,
                21,
              ],
              "categoryMatchesMap": Object {
                "17": true,
                "18": true,
                "20": true,
                "21": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 17,
        },
        "tokenTypeIdx": 17,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "lhs": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "AdditionOperator": Array [
                                                      Object {
                                                        "endColumn": 77,
                                                        "endLine": 1,
                                                        "endOffset": 76,
                                                        "image": "+",
                                                        "startColumn": 77,
                                                        "startLine": 1,
                                                        "startOffset": 76,
                                                        "tokenType": Object {
                                                          "CATEGORIES": Array [
                                                            Object {
                                                              "CATEGORIES": Array [],
                                                              "PATTERN": /NOT_APPLICABLE/,
                                                              "categoryMatches": Array [
                                                                24,
                                                                33,
                                                              ],
                                                              "categoryMatchesMap": Object {
                                                                "24": true,
                                                                "33": true,
                                                              },
                                                              "isParent": true,
                                                              "name": "AdditionOperator",
                                                              "tokenTypeIdx": 5,
                                                            },
                                                          ],
                                                          "PATTERN": /\\\\\\+/,
                                                          "categoryMatches": Array [],
                                                          "categoryMatchesMap": Object {},
                                                          "isParent": false,
                                                          "name": "Plus",
                                                          "tokenTypeIdx": 24,
                                                        },
                                                        "tokenTypeIdx": 24,
                                                      },
                                                    ],
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "lazyVariableExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "variableExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "At": Array [
                                                                                          Object {
                                                                                            "endColumn": 39,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 38,
                                                                                            "image": "@",
                                                                                            "startColumn": 39,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 38,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /@/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "At",
                                                                                              "tokenTypeIdx": 29,
                                                                                            },
                                                                                            "tokenTypeIdx": 29,
                                                                                          },
                                                                                        ],
                                                                                        "Sharp": Array [
                                                                                          Object {
                                                                                            "endColumn": 2,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 1,
                                                                                            "image": "#",
                                                                                            "startColumn": 2,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 1,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /#/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "Sharp",
                                                                                              "tokenTypeIdx": 30,
                                                                                            },
                                                                                            "tokenTypeIdx": 30,
                                                                                          },
                                                                                        ],
                                                                                        "UUID": Array [
                                                                                          Object {
                                                                                            "endColumn": 38,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 37,
                                                                                            "image": "57622108-1337-4edd-833a-2557835bcfe0",
                                                                                            "startColumn": 3,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 2,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "UUID",
                                                                                              "tokenTypeIdx": 32,
                                                                                            },
                                                                                            "tokenTypeIdx": 32,
                                                                                          },
                                                                                          Object {
                                                                                            "endColumn": 75,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 74,
                                                                                            "image": "d986e871-cb85-4bd5-b675-87307f60b882",
                                                                                            "startColumn": 40,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 39,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "UUID",
                                                                                              "tokenTypeIdx": 32,
                                                                                            },
                                                                                            "tokenTypeIdx": 32,
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "variableExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "lazyVariableExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                    "rhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "constantExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "NumberLiteralExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "NumberLiteral": Array [
                                                                                          Object {
                                                                                            "endColumn": 79,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 78,
                                                                                            "image": "1",
                                                                                            "startColumn": 79,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 78,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "NumberLiteral",
                                                                                              "tokenTypeIdx": 43,
                                                                                            },
                                                                                            "tokenTypeIdx": 43,
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "NumberLiteralExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "constantExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                            },
                                            "name": "concatExpression",
                                          },
                                        ],
                                      },
                                      "name": "inExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok =#57622108-1337-4edd-833a-2557835bcfe0@d986e871-cb85-4bd5-b675-87307f60b882 + 1 2`] = `
Array [
  Object {
    "code": "Sharp",
    "errors": Array [],
    "meta": undefined,
    "name": "#",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Variable",
    "errors": Array [
      Object {
        "message": "Variable not found: d986e871-cb85-4bd5-b675-87307f60b882",
        "type": "deps",
      },
    ],
    "meta": undefined,
    "name": "#57622108-1337-4edd-833a-2557835bcfe0@d986e871-cb85-4bd5-b675-87307f60b882",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": undefined,
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
]
`;

exports[`Code fragment ok =#cd4f6e1e-765e-4064-badd-b5585c7eff8e@d986e871-cb85-4bd5-b675-87307f60b882 + 2 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                17,
                18,
                20,
                21,
              ],
              "categoryMatchesMap": Object {
                "17": true,
                "18": true,
                "20": true,
                "21": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 17,
        },
        "tokenTypeIdx": 17,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "lhs": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "AdditionOperator": Array [
                                                      Object {
                                                        "endColumn": 77,
                                                        "endLine": 1,
                                                        "endOffset": 76,
                                                        "image": "+",
                                                        "startColumn": 77,
                                                        "startLine": 1,
                                                        "startOffset": 76,
                                                        "tokenType": Object {
                                                          "CATEGORIES": Array [
                                                            Object {
                                                              "CATEGORIES": Array [],
                                                              "PATTERN": /NOT_APPLICABLE/,
                                                              "categoryMatches": Array [
                                                                24,
                                                                33,
                                                              ],
                                                              "categoryMatchesMap": Object {
                                                                "24": true,
                                                                "33": true,
                                                              },
                                                              "isParent": true,
                                                              "name": "AdditionOperator",
                                                              "tokenTypeIdx": 5,
                                                            },
                                                          ],
                                                          "PATTERN": /\\\\\\+/,
                                                          "categoryMatches": Array [],
                                                          "categoryMatchesMap": Object {},
                                                          "isParent": false,
                                                          "name": "Plus",
                                                          "tokenTypeIdx": 24,
                                                        },
                                                        "tokenTypeIdx": 24,
                                                      },
                                                    ],
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "lazyVariableExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "variableExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "At": Array [
                                                                                          Object {
                                                                                            "endColumn": 39,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 38,
                                                                                            "image": "@",
                                                                                            "startColumn": 39,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 38,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /@/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "At",
                                                                                              "tokenTypeIdx": 29,
                                                                                            },
                                                                                            "tokenTypeIdx": 29,
                                                                                          },
                                                                                        ],
                                                                                        "Sharp": Array [
                                                                                          Object {
                                                                                            "endColumn": 2,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 1,
                                                                                            "image": "#",
                                                                                            "startColumn": 2,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 1,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /#/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "Sharp",
                                                                                              "tokenTypeIdx": 30,
                                                                                            },
                                                                                            "tokenTypeIdx": 30,
                                                                                          },
                                                                                        ],
                                                                                        "UUID": Array [
                                                                                          Object {
                                                                                            "endColumn": 38,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 37,
                                                                                            "image": "cd4f6e1e-765e-4064-badd-b5585c7eff8e",
                                                                                            "startColumn": 3,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 2,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "UUID",
                                                                                              "tokenTypeIdx": 32,
                                                                                            },
                                                                                            "tokenTypeIdx": 32,
                                                                                          },
                                                                                          Object {
                                                                                            "endColumn": 75,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 74,
                                                                                            "image": "d986e871-cb85-4bd5-b675-87307f60b882",
                                                                                            "startColumn": 40,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 39,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "UUID",
                                                                                              "tokenTypeIdx": 32,
                                                                                            },
                                                                                            "tokenTypeIdx": 32,
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "variableExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "lazyVariableExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                    "rhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "lhs": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "simpleAtomicExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "constantExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "NumberLiteralExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "NumberLiteral": Array [
                                                                                          Object {
                                                                                            "endColumn": 79,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 78,
                                                                                            "image": "2",
                                                                                            "startColumn": 79,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 78,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "NumberLiteral",
                                                                                              "tokenTypeIdx": 43,
                                                                                            },
                                                                                            "tokenTypeIdx": 43,
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "NumberLiteralExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "constantExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "simpleAtomicExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "atomicExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "chainExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "multiplicationExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "additionExpression",
                                                },
                                              ],
                                            },
                                            "name": "concatExpression",
                                          },
                                        ],
                                      },
                                      "name": "inExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok =#cd4f6e1e-765e-4064-badd-b5585c7eff8e@d986e871-cb85-4bd5-b675-87307f60b882 + 2 2`] = `
Array [
  Object {
    "code": "Sharp",
    "errors": Array [],
    "meta": undefined,
    "name": "#",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Variable",
    "errors": Array [
      Object {
        "message": "Variable not found: d986e871-cb85-4bd5-b675-87307f60b882",
        "type": "deps",
      },
    ],
    "meta": undefined,
    "name": "#cd4f6e1e-765e-4064-badd-b5585c7eff8e@d986e871-cb85-4bd5-b675-87307f60b882",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": undefined,
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": undefined,
    "name": "2",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
]
`;
