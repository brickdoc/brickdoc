// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Code fragment ok = (1 + 1) / 2 * 0.1 == (!!true and false or true) == "123" 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                12,
                13,
                15,
                16,
              ],
              "categoryMatchesMap": Object {
                "12": true,
                "13": true,
                "15": true,
                "16": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 12,
        },
        "tokenTypeIdx": 12,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "combineExpression": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "EqualCompareOperator": Array [
                              Object {
                                "endColumn": 22,
                                "endLine": 1,
                                "endOffset": 21,
                                "image": "==",
                                "startColumn": 21,
                                "startLine": 1,
                                "startOffset": 20,
                                "tokenType": Object {
                                  "CATEGORIES": Array [
                                    Object {
                                      "CATEGORIES": Array [],
                                      "PATTERN": /NOT_APPLICABLE/,
                                      "categoryMatches": Array [
                                        12,
                                        13,
                                        15,
                                        16,
                                      ],
                                      "categoryMatchesMap": Object {
                                        "12": true,
                                        "13": true,
                                        "15": true,
                                        "16": true,
                                      },
                                      "isParent": true,
                                      "name": "EqualCompareOperator",
                                      "tokenTypeIdx": 3,
                                    },
                                  ],
                                  "PATTERN": /==/,
                                  "categoryMatches": Array [],
                                  "categoryMatchesMap": Object {},
                                  "isParent": false,
                                  "name": "Equal2",
                                  "tokenTypeIdx": 13,
                                },
                                "tokenTypeIdx": 13,
                              },
                              Object {
                                "endColumn": 52,
                                "endLine": 1,
                                "endOffset": 51,
                                "image": "==",
                                "startColumn": 51,
                                "startLine": 1,
                                "startOffset": 50,
                                "tokenType": Object {
                                  "CATEGORIES": Array [
                                    Object {
                                      "CATEGORIES": Array [],
                                      "PATTERN": /NOT_APPLICABLE/,
                                      "categoryMatches": Array [
                                        12,
                                        13,
                                        15,
                                        16,
                                      ],
                                      "categoryMatchesMap": Object {
                                        "12": true,
                                        "13": true,
                                        "15": true,
                                        "16": true,
                                      },
                                      "isParent": true,
                                      "name": "EqualCompareOperator",
                                      "tokenTypeIdx": 3,
                                    },
                                  ],
                                  "PATTERN": /==/,
                                  "categoryMatches": Array [],
                                  "categoryMatchesMap": Object {},
                                  "isParent": false,
                                  "name": "Equal2",
                                  "tokenTypeIdx": 13,
                                },
                                "tokenTypeIdx": 13,
                              },
                            ],
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "MultiplicationOperator": Array [
                                                      Object {
                                                        "endColumn": 11,
                                                        "endLine": 1,
                                                        "endOffset": 10,
                                                        "image": "/",
                                                        "startColumn": 11,
                                                        "startLine": 1,
                                                        "startOffset": 10,
                                                        "tokenType": Object {
                                                          "CATEGORIES": Array [
                                                            Object {
                                                              "CATEGORIES": Array [],
                                                              "PATTERN": /NOT_APPLICABLE/,
                                                              "categoryMatches": Array [
                                                                21,
                                                                29,
                                                                30,
                                                              ],
                                                              "categoryMatchesMap": Object {
                                                                "21": true,
                                                                "29": true,
                                                                "30": true,
                                                              },
                                                              "isParent": true,
                                                              "name": "MultiplicationOperator",
                                                              "tokenTypeIdx": 6,
                                                            },
                                                          ],
                                                          "PATTERN": /\\\\//,
                                                          "categoryMatches": Array [],
                                                          "categoryMatchesMap": Object {},
                                                          "isParent": false,
                                                          "name": "Div",
                                                          "tokenTypeIdx": 30,
                                                        },
                                                        "tokenTypeIdx": 30,
                                                      },
                                                      Object {
                                                        "endColumn": 15,
                                                        "endLine": 1,
                                                        "endOffset": 14,
                                                        "image": "*",
                                                        "startColumn": 15,
                                                        "startLine": 1,
                                                        "startOffset": 14,
                                                        "tokenType": Object {
                                                          "CATEGORIES": Array [
                                                            Object {
                                                              "CATEGORIES": Array [],
                                                              "PATTERN": /NOT_APPLICABLE/,
                                                              "categoryMatches": Array [
                                                                21,
                                                                29,
                                                                30,
                                                              ],
                                                              "categoryMatchesMap": Object {
                                                                "21": true,
                                                                "29": true,
                                                                "30": true,
                                                              },
                                                              "isParent": true,
                                                              "name": "MultiplicationOperator",
                                                              "tokenTypeIdx": 6,
                                                            },
                                                          ],
                                                          "PATTERN": /\\\\\\*/,
                                                          "categoryMatches": Array [],
                                                          "categoryMatchesMap": Object {},
                                                          "isParent": false,
                                                          "name": "Multi",
                                                          "tokenTypeIdx": 29,
                                                        },
                                                        "tokenTypeIdx": 29,
                                                      },
                                                    ],
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "parenthesisExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "LParen": Array [
                                                                        Object {
                                                                          "endColumn": 3,
                                                                          "endLine": 1,
                                                                          "endOffset": 2,
                                                                          "image": "(",
                                                                          "startColumn": 3,
                                                                          "startLine": 1,
                                                                          "startOffset": 2,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\(/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "LParen",
                                                                            "tokenTypeIdx": 31,
                                                                          },
                                                                          "tokenTypeIdx": 31,
                                                                        },
                                                                      ],
                                                                      "RParen": Array [
                                                                        Object {
                                                                          "endColumn": 9,
                                                                          "endLine": 1,
                                                                          "endOffset": 8,
                                                                          "image": ")",
                                                                          "startColumn": 9,
                                                                          "startLine": 1,
                                                                          "startOffset": 8,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\)/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "RParen",
                                                                            "tokenTypeIdx": 32,
                                                                          },
                                                                          "tokenTypeIdx": 32,
                                                                        },
                                                                      ],
                                                                      "expression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "combineExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "lhs": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "rhs": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "lhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "AdditionOperator": Array [
                                                                                                                  Object {
                                                                                                                    "endColumn": 6,
                                                                                                                    "endLine": 1,
                                                                                                                    "endOffset": 5,
                                                                                                                    "image": "+",
                                                                                                                    "startColumn": 6,
                                                                                                                    "startLine": 1,
                                                                                                                    "startOffset": 5,
                                                                                                                    "tokenType": Object {
                                                                                                                      "CATEGORIES": Array [
                                                                                                                        Object {
                                                                                                                          "CATEGORIES": Array [],
                                                                                                                          "PATTERN": /NOT_APPLICABLE/,
                                                                                                                          "categoryMatches": Array [
                                                                                                                            19,
                                                                                                                            28,
                                                                                                                          ],
                                                                                                                          "categoryMatchesMap": Object {
                                                                                                                            "19": true,
                                                                                                                            "28": true,
                                                                                                                          },
                                                                                                                          "isParent": true,
                                                                                                                          "name": "AdditionOperator",
                                                                                                                          "tokenTypeIdx": 5,
                                                                                                                        },
                                                                                                                      ],
                                                                                                                      "PATTERN": /\\\\\\+/,
                                                                                                                      "categoryMatches": Array [],
                                                                                                                      "categoryMatchesMap": Object {},
                                                                                                                      "isParent": false,
                                                                                                                      "name": "Plus",
                                                                                                                      "tokenTypeIdx": 19,
                                                                                                                    },
                                                                                                                    "tokenTypeIdx": 19,
                                                                                                                  },
                                                                                                                ],
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "constantExpression": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "NumberLiteralExpression": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "NumberLiteral": Array [
                                                                                                                                                Object {
                                                                                                                                                  "endColumn": 4,
                                                                                                                                                  "endLine": 1,
                                                                                                                                                  "endOffset": 3,
                                                                                                                                                  "image": "1",
                                                                                                                                                  "startColumn": 4,
                                                                                                                                                  "startLine": 1,
                                                                                                                                                  "startOffset": 3,
                                                                                                                                                  "tokenType": Object {
                                                                                                                                                    "CATEGORIES": Array [],
                                                                                                                                                    "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                                                                                    "categoryMatches": Array [],
                                                                                                                                                    "categoryMatchesMap": Object {},
                                                                                                                                                    "isParent": false,
                                                                                                                                                    "name": "NumberLiteral",
                                                                                                                                                    "tokenTypeIdx": 33,
                                                                                                                                                  },
                                                                                                                                                  "tokenTypeIdx": 33,
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "NumberLiteralExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "constantExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "atomicExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "chainExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "multiplicationExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                                "rhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "constantExpression": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "NumberLiteralExpression": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "NumberLiteral": Array [
                                                                                                                                                Object {
                                                                                                                                                  "endColumn": 8,
                                                                                                                                                  "endLine": 1,
                                                                                                                                                  "endOffset": 7,
                                                                                                                                                  "image": "1",
                                                                                                                                                  "startColumn": 8,
                                                                                                                                                  "startLine": 1,
                                                                                                                                                  "startOffset": 7,
                                                                                                                                                  "tokenType": Object {
                                                                                                                                                    "CATEGORIES": Array [],
                                                                                                                                                    "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                                                                                    "categoryMatches": Array [],
                                                                                                                                                    "categoryMatchesMap": Object {},
                                                                                                                                                    "isParent": false,
                                                                                                                                                    "name": "NumberLiteral",
                                                                                                                                                    "tokenTypeIdx": 33,
                                                                                                                                                  },
                                                                                                                                                  "tokenTypeIdx": 33,
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "NumberLiteralExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "constantExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "atomicExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "chainExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "multiplicationExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "additionExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "concatExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "compareExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "equalCompareExpression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "notExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "combineExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "expression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "parenthesisExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                    "rhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "constantExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "NumberLiteralExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "NumberLiteral": Array [
                                                                              Object {
                                                                                "endColumn": 13,
                                                                                "endLine": 1,
                                                                                "endOffset": 12,
                                                                                "image": "2",
                                                                                "startColumn": 13,
                                                                                "startLine": 1,
                                                                                "startOffset": 12,
                                                                                "tokenType": Object {
                                                                                  "CATEGORIES": Array [],
                                                                                  "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                  "categoryMatches": Array [],
                                                                                  "categoryMatchesMap": Object {},
                                                                                  "isParent": false,
                                                                                  "name": "NumberLiteral",
                                                                                  "tokenTypeIdx": 33,
                                                                                },
                                                                                "tokenTypeIdx": 33,
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "NumberLiteralExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "constantExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "constantExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "NumberLiteralExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "NumberLiteral": Array [
                                                                              Object {
                                                                                "endColumn": 19,
                                                                                "endLine": 1,
                                                                                "endOffset": 18,
                                                                                "image": "0.1",
                                                                                "startColumn": 17,
                                                                                "startLine": 1,
                                                                                "startOffset": 16,
                                                                                "tokenType": Object {
                                                                                  "CATEGORIES": Array [],
                                                                                  "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                  "categoryMatches": Array [],
                                                                                  "categoryMatchesMap": Object {},
                                                                                  "isParent": false,
                                                                                  "name": "NumberLiteral",
                                                                                  "tokenTypeIdx": 33,
                                                                                },
                                                                                "tokenTypeIdx": 33,
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "NumberLiteralExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "constantExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                            },
                                            "name": "additionExpression",
                                          },
                                        ],
                                      },
                                      "name": "concatExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                            "rhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "parenthesisExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "LParen": Array [
                                                                        Object {
                                                                          "endColumn": 24,
                                                                          "endLine": 1,
                                                                          "endOffset": 23,
                                                                          "image": "(",
                                                                          "startColumn": 24,
                                                                          "startLine": 1,
                                                                          "startOffset": 23,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\(/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "LParen",
                                                                            "tokenTypeIdx": 31,
                                                                          },
                                                                          "tokenTypeIdx": 31,
                                                                        },
                                                                      ],
                                                                      "RParen": Array [
                                                                        Object {
                                                                          "endColumn": 49,
                                                                          "endLine": 1,
                                                                          "endOffset": 48,
                                                                          "image": ")",
                                                                          "startColumn": 49,
                                                                          "startLine": 1,
                                                                          "startOffset": 48,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\)/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "RParen",
                                                                            "tokenTypeIdx": 32,
                                                                          },
                                                                          "tokenTypeIdx": 32,
                                                                        },
                                                                      ],
                                                                      "expression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "combineExpression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "CombineOperator": Array [
                                                                                    Object {
                                                                                      "endColumn": 34,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 33,
                                                                                      "image": "and",
                                                                                      "startColumn": 32,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 31,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [
                                                                                          Object {
                                                                                            "CATEGORIES": Array [],
                                                                                            "PATTERN": /NOT_APPLICABLE/,
                                                                                            "categoryMatches": Array [
                                                                                              8,
                                                                                              9,
                                                                                            ],
                                                                                            "categoryMatchesMap": Object {
                                                                                              "8": true,
                                                                                              "9": true,
                                                                                            },
                                                                                            "isParent": true,
                                                                                            "name": "CombineOperator",
                                                                                            "tokenTypeIdx": 7,
                                                                                          },
                                                                                        ],
                                                                                        "PATTERN": /and\\|&&/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "And",
                                                                                        "tokenTypeIdx": 8,
                                                                                      },
                                                                                      "tokenTypeIdx": 8,
                                                                                    },
                                                                                    Object {
                                                                                      "endColumn": 43,
                                                                                      "endLine": 1,
                                                                                      "endOffset": 42,
                                                                                      "image": "or",
                                                                                      "startColumn": 42,
                                                                                      "startLine": 1,
                                                                                      "startOffset": 41,
                                                                                      "tokenType": Object {
                                                                                        "CATEGORIES": Array [
                                                                                          Object {
                                                                                            "CATEGORIES": Array [],
                                                                                            "PATTERN": /NOT_APPLICABLE/,
                                                                                            "categoryMatches": Array [
                                                                                              8,
                                                                                              9,
                                                                                            ],
                                                                                            "categoryMatchesMap": Object {
                                                                                              "8": true,
                                                                                              "9": true,
                                                                                            },
                                                                                            "isParent": true,
                                                                                            "name": "CombineOperator",
                                                                                            "tokenTypeIdx": 7,
                                                                                          },
                                                                                        ],
                                                                                        "PATTERN": /or\\|\\\\\\|\\\\\\|/,
                                                                                        "categoryMatches": Array [],
                                                                                        "categoryMatchesMap": Object {},
                                                                                        "isParent": false,
                                                                                        "name": "Or",
                                                                                        "tokenTypeIdx": 9,
                                                                                      },
                                                                                      "tokenTypeIdx": 9,
                                                                                    },
                                                                                  ],
                                                                                  "lhs": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "lhs": Array [
                                                                                          Object {
                                                                                            "endColumn": 25,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 24,
                                                                                            "image": "!",
                                                                                            "startColumn": 25,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 24,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /not\\|!/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "Not",
                                                                                              "tokenTypeIdx": 10,
                                                                                            },
                                                                                            "tokenTypeIdx": 10,
                                                                                          },
                                                                                          Object {
                                                                                            "endColumn": 26,
                                                                                            "endLine": 1,
                                                                                            "endOffset": 25,
                                                                                            "image": "!",
                                                                                            "startColumn": 26,
                                                                                            "startLine": 1,
                                                                                            "startOffset": 25,
                                                                                            "tokenType": Object {
                                                                                              "CATEGORIES": Array [],
                                                                                              "PATTERN": /not\\|!/,
                                                                                              "categoryMatches": Array [],
                                                                                              "categoryMatchesMap": Object {},
                                                                                              "isParent": false,
                                                                                              "name": "Not",
                                                                                              "tokenTypeIdx": 10,
                                                                                            },
                                                                                            "tokenTypeIdx": 10,
                                                                                          },
                                                                                        ],
                                                                                        "rhs": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "lhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "constantExpression": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "BooleanLiteralExpression": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "BooleanLiteral": Array [
                                                                                                                                                Object {
                                                                                                                                                  "endColumn": 30,
                                                                                                                                                  "endLine": 1,
                                                                                                                                                  "endOffset": 29,
                                                                                                                                                  "image": "true",
                                                                                                                                                  "startColumn": 27,
                                                                                                                                                  "startLine": 1,
                                                                                                                                                  "startOffset": 26,
                                                                                                                                                  "tokenType": Object {
                                                                                                                                                    "CATEGORIES": Array [],
                                                                                                                                                    "PATTERN": /true\\|false/,
                                                                                                                                                    "categoryMatches": Array [],
                                                                                                                                                    "categoryMatchesMap": Object {},
                                                                                                                                                    "isParent": false,
                                                                                                                                                    "name": "BooleanLiteral",
                                                                                                                                                    "tokenTypeIdx": 34,
                                                                                                                                                  },
                                                                                                                                                  "tokenTypeIdx": 34,
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "BooleanLiteralExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "constantExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "atomicExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "chainExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "multiplicationExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "additionExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "concatExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "compareExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "equalCompareExpression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "notExpression",
                                                                                    },
                                                                                  ],
                                                                                  "rhs": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "rhs": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "lhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "constantExpression": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "BooleanLiteralExpression": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "BooleanLiteral": Array [
                                                                                                                                                Object {
                                                                                                                                                  "endColumn": 40,
                                                                                                                                                  "endLine": 1,
                                                                                                                                                  "endOffset": 39,
                                                                                                                                                  "image": "false",
                                                                                                                                                  "startColumn": 36,
                                                                                                                                                  "startLine": 1,
                                                                                                                                                  "startOffset": 35,
                                                                                                                                                  "tokenType": Object {
                                                                                                                                                    "CATEGORIES": Array [],
                                                                                                                                                    "PATTERN": /true\\|false/,
                                                                                                                                                    "categoryMatches": Array [],
                                                                                                                                                    "categoryMatchesMap": Object {},
                                                                                                                                                    "isParent": false,
                                                                                                                                                    "name": "BooleanLiteral",
                                                                                                                                                    "tokenTypeIdx": 34,
                                                                                                                                                  },
                                                                                                                                                  "tokenTypeIdx": 34,
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "BooleanLiteralExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "constantExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "atomicExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "chainExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "multiplicationExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "additionExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "concatExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "compareExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "equalCompareExpression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "notExpression",
                                                                                    },
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "rhs": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "lhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "constantExpression": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "BooleanLiteralExpression": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "BooleanLiteral": Array [
                                                                                                                                                Object {
                                                                                                                                                  "endColumn": 48,
                                                                                                                                                  "endLine": 1,
                                                                                                                                                  "endOffset": 47,
                                                                                                                                                  "image": "true",
                                                                                                                                                  "startColumn": 45,
                                                                                                                                                  "startLine": 1,
                                                                                                                                                  "startOffset": 44,
                                                                                                                                                  "tokenType": Object {
                                                                                                                                                    "CATEGORIES": Array [],
                                                                                                                                                    "PATTERN": /true\\|false/,
                                                                                                                                                    "categoryMatches": Array [],
                                                                                                                                                    "categoryMatchesMap": Object {},
                                                                                                                                                    "isParent": false,
                                                                                                                                                    "name": "BooleanLiteral",
                                                                                                                                                    "tokenTypeIdx": 34,
                                                                                                                                                  },
                                                                                                                                                  "tokenTypeIdx": 34,
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "BooleanLiteralExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "constantExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "atomicExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "chainExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "multiplicationExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "additionExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "concatExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "compareExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "equalCompareExpression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "notExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "combineExpression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "expression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "parenthesisExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                            },
                                            "name": "additionExpression",
                                          },
                                        ],
                                      },
                                      "name": "concatExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "constantExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "StringLiteral": Array [
                                                                        Object {
                                                                          "endColumn": 58,
                                                                          "endLine": 1,
                                                                          "endOffset": 57,
                                                                          "image": "\\"123\\"",
                                                                          "startColumn": 54,
                                                                          "startLine": 1,
                                                                          "startOffset": 53,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /"\\(""\\|\\[\\^"\\]\\)\\*"/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "StringLiteral",
                                                                            "tokenTypeIdx": 35,
                                                                          },
                                                                          "tokenTypeIdx": 35,
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "constantExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                            },
                                            "name": "additionExpression",
                                          },
                                        ],
                                      },
                                      "name": "concatExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok = (1 + 1) / 2 * 0.1 == (!!true and false or true) == "123" 2`] = `
Array [
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": Object {},
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": Object {},
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": Object {},
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "Div",
    "errors": Array [],
    "meta": Object {},
    "name": "/",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "2",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "Multi",
    "errors": Array [],
    "meta": Object {},
    "name": "*",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "0.1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "Equal2",
    "errors": Array [],
    "meta": Object {},
    "name": "==",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "boolean",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": Object {},
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Not",
    "errors": Array [],
    "meta": Object {},
    "name": "!",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "Not",
    "errors": Array [],
    "meta": Object {},
    "name": "!",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "BooleanLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "true",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "And",
    "errors": Array [],
    "meta": Object {},
    "name": "and",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "boolean",
  },
  Object {
    "code": "BooleanLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "false",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "Or",
    "errors": Array [],
    "meta": Object {},
    "name": "or",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "boolean",
  },
  Object {
    "code": "BooleanLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "true",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "boolean",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": Object {},
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "Equal2",
    "errors": Array [],
    "meta": Object {},
    "name": "==",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "boolean",
  },
  Object {
    "code": "StringLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "\\"123\\"",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "string",
  },
]
`;

exports[`Code fragment ok = custom::PLUS((custom::FORTY_TWO()), 1 + 1) 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                12,
                13,
                15,
                16,
              ],
              "categoryMatchesMap": Object {
                "12": true,
                "13": true,
                "15": true,
                "16": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 12,
        },
        "tokenTypeIdx": 12,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "combineExpression": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "FunctionCall": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "Arguments": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "Comma": Array [
                                                                              Object {
                                                                                "endColumn": 37,
                                                                                "endLine": 1,
                                                                                "endOffset": 36,
                                                                                "image": ",",
                                                                                "startColumn": 37,
                                                                                "startLine": 1,
                                                                                "startOffset": 36,
                                                                                "tokenType": Object {
                                                                                  "CATEGORIES": Array [],
                                                                                  "PATTERN": /,/,
                                                                                  "categoryMatches": Array [],
                                                                                  "categoryMatchesMap": Object {},
                                                                                  "isParent": false,
                                                                                  "name": "Comma",
                                                                                  "tokenTypeIdx": 36,
                                                                                },
                                                                                "tokenTypeIdx": 36,
                                                                              },
                                                                            ],
                                                                            "expression": Array [
                                                                              Object {
                                                                                "children": Object {
                                                                                  "combineExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "lhs": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "rhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "parenthesisExpression": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "LParen": Array [
                                                                                                                                                Object {
                                                                                                                                                  "endColumn": 16,
                                                                                                                                                  "endLine": 1,
                                                                                                                                                  "endOffset": 15,
                                                                                                                                                  "image": "(",
                                                                                                                                                  "startColumn": 16,
                                                                                                                                                  "startLine": 1,
                                                                                                                                                  "startOffset": 15,
                                                                                                                                                  "tokenType": Object {
                                                                                                                                                    "CATEGORIES": Array [],
                                                                                                                                                    "PATTERN": /\\\\\\(/,
                                                                                                                                                    "categoryMatches": Array [],
                                                                                                                                                    "categoryMatchesMap": Object {},
                                                                                                                                                    "isParent": false,
                                                                                                                                                    "name": "LParen",
                                                                                                                                                    "tokenTypeIdx": 31,
                                                                                                                                                  },
                                                                                                                                                  "tokenTypeIdx": 31,
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                              "RParen": Array [
                                                                                                                                                Object {
                                                                                                                                                  "endColumn": 36,
                                                                                                                                                  "endLine": 1,
                                                                                                                                                  "endOffset": 35,
                                                                                                                                                  "image": ")",
                                                                                                                                                  "startColumn": 36,
                                                                                                                                                  "startLine": 1,
                                                                                                                                                  "startOffset": 35,
                                                                                                                                                  "tokenType": Object {
                                                                                                                                                    "CATEGORIES": Array [],
                                                                                                                                                    "PATTERN": /\\\\\\)/,
                                                                                                                                                    "categoryMatches": Array [],
                                                                                                                                                    "categoryMatchesMap": Object {},
                                                                                                                                                    "isParent": false,
                                                                                                                                                    "name": "RParen",
                                                                                                                                                    "tokenTypeIdx": 32,
                                                                                                                                                  },
                                                                                                                                                  "tokenTypeIdx": 32,
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                              "expression": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "combineExpression": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "children": Object {
                                                                                                                                                          "lhs": Array [
                                                                                                                                                            Object {
                                                                                                                                                              "children": Object {
                                                                                                                                                                "rhs": Array [
                                                                                                                                                                  Object {
                                                                                                                                                                    "children": Object {
                                                                                                                                                                      "lhs": Array [
                                                                                                                                                                        Object {
                                                                                                                                                                          "children": Object {
                                                                                                                                                                            "lhs": Array [
                                                                                                                                                                              Object {
                                                                                                                                                                                "children": Object {
                                                                                                                                                                                  "lhs": Array [
                                                                                                                                                                                    Object {
                                                                                                                                                                                      "children": Object {
                                                                                                                                                                                        "lhs": Array [
                                                                                                                                                                                          Object {
                                                                                                                                                                                            "children": Object {
                                                                                                                                                                                              "lhs": Array [
                                                                                                                                                                                                Object {
                                                                                                                                                                                                  "children": Object {
                                                                                                                                                                                                    "lhs": Array [
                                                                                                                                                                                                      Object {
                                                                                                                                                                                                        "children": Object {
                                                                                                                                                                                                          "FunctionCall": Array [
                                                                                                                                                                                                            Object {
                                                                                                                                                                                                              "children": Object {
                                                                                                                                                                                                                "Colon": Array [
                                                                                                                                                                                                                  Object {
                                                                                                                                                                                                                    "endColumn": 24,
                                                                                                                                                                                                                    "endLine": 1,
                                                                                                                                                                                                                    "endOffset": 23,
                                                                                                                                                                                                                    "image": "::",
                                                                                                                                                                                                                    "startColumn": 23,
                                                                                                                                                                                                                    "startLine": 1,
                                                                                                                                                                                                                    "startOffset": 22,
                                                                                                                                                                                                                    "tokenType": Object {
                                                                                                                                                                                                                      "CATEGORIES": Array [],
                                                                                                                                                                                                                      "PATTERN": /::/,
                                                                                                                                                                                                                      "categoryMatches": Array [],
                                                                                                                                                                                                                      "categoryMatchesMap": Object {},
                                                                                                                                                                                                                      "isParent": false,
                                                                                                                                                                                                                      "name": "Colon",
                                                                                                                                                                                                                      "tokenTypeIdx": 37,
                                                                                                                                                                                                                    },
                                                                                                                                                                                                                    "tokenTypeIdx": 37,
                                                                                                                                                                                                                  },
                                                                                                                                                                                                                ],
                                                                                                                                                                                                                "FunctionGroupName": Array [
                                                                                                                                                                                                                  Object {
                                                                                                                                                                                                                    "endColumn": 22,
                                                                                                                                                                                                                    "endLine": 1,
                                                                                                                                                                                                                    "endOffset": 21,
                                                                                                                                                                                                                    "image": "custom",
                                                                                                                                                                                                                    "startColumn": 17,
                                                                                                                                                                                                                    "startLine": 1,
                                                                                                                                                                                                                    "startOffset": 16,
                                                                                                                                                                                                                    "tokenType": Object {
                                                                                                                                                                                                                      "CATEGORIES": Array [],
                                                                                                                                                                                                                      "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                                                                                                                                                                      "categoryMatches": Array [],
                                                                                                                                                                                                                      "categoryMatchesMap": Object {},
                                                                                                                                                                                                                      "isParent": false,
                                                                                                                                                                                                                      "name": "FunctionGroupName",
                                                                                                                                                                                                                      "tokenTypeIdx": 38,
                                                                                                                                                                                                                    },
                                                                                                                                                                                                                    "tokenTypeIdx": 38,
                                                                                                                                                                                                                  },
                                                                                                                                                                                                                ],
                                                                                                                                                                                                                "FunctionName": Array [
                                                                                                                                                                                                                  Object {
                                                                                                                                                                                                                    "endColumn": 33,
                                                                                                                                                                                                                    "endLine": 1,
                                                                                                                                                                                                                    "endOffset": 32,
                                                                                                                                                                                                                    "image": "FORTY_TWO",
                                                                                                                                                                                                                    "startColumn": 25,
                                                                                                                                                                                                                    "startLine": 1,
                                                                                                                                                                                                                    "startOffset": 24,
                                                                                                                                                                                                                    "tokenType": Object {
                                                                                                                                                                                                                      "CATEGORIES": Array [],
                                                                                                                                                                                                                      "PATTERN": /\\[A-Z\\]\\[A-Z0-9_\\]\\*/,
                                                                                                                                                                                                                      "categoryMatches": Array [],
                                                                                                                                                                                                                      "categoryMatchesMap": Object {},
                                                                                                                                                                                                                      "isParent": false,
                                                                                                                                                                                                                      "name": "FunctionName",
                                                                                                                                                                                                                      "tokenTypeIdx": 39,
                                                                                                                                                                                                                    },
                                                                                                                                                                                                                    "tokenTypeIdx": 39,
                                                                                                                                                                                                                  },
                                                                                                                                                                                                                ],
                                                                                                                                                                                                                "LParen": Array [
                                                                                                                                                                                                                  Object {
                                                                                                                                                                                                                    "endColumn": 34,
                                                                                                                                                                                                                    "endLine": 1,
                                                                                                                                                                                                                    "endOffset": 33,
                                                                                                                                                                                                                    "image": "(",
                                                                                                                                                                                                                    "startColumn": 34,
                                                                                                                                                                                                                    "startLine": 1,
                                                                                                                                                                                                                    "startOffset": 33,
                                                                                                                                                                                                                    "tokenType": Object {
                                                                                                                                                                                                                      "CATEGORIES": Array [],
                                                                                                                                                                                                                      "PATTERN": /\\\\\\(/,
                                                                                                                                                                                                                      "categoryMatches": Array [],
                                                                                                                                                                                                                      "categoryMatchesMap": Object {},
                                                                                                                                                                                                                      "isParent": false,
                                                                                                                                                                                                                      "name": "LParen",
                                                                                                                                                                                                                      "tokenTypeIdx": 31,
                                                                                                                                                                                                                    },
                                                                                                                                                                                                                    "tokenTypeIdx": 31,
                                                                                                                                                                                                                  },
                                                                                                                                                                                                                ],
                                                                                                                                                                                                                "RParen": Array [
                                                                                                                                                                                                                  Object {
                                                                                                                                                                                                                    "endColumn": 35,
                                                                                                                                                                                                                    "endLine": 1,
                                                                                                                                                                                                                    "endOffset": 34,
                                                                                                                                                                                                                    "image": ")",
                                                                                                                                                                                                                    "startColumn": 35,
                                                                                                                                                                                                                    "startLine": 1,
                                                                                                                                                                                                                    "startOffset": 34,
                                                                                                                                                                                                                    "tokenType": Object {
                                                                                                                                                                                                                      "CATEGORIES": Array [],
                                                                                                                                                                                                                      "PATTERN": /\\\\\\)/,
                                                                                                                                                                                                                      "categoryMatches": Array [],
                                                                                                                                                                                                                      "categoryMatchesMap": Object {},
                                                                                                                                                                                                                      "isParent": false,
                                                                                                                                                                                                                      "name": "RParen",
                                                                                                                                                                                                                      "tokenTypeIdx": 32,
                                                                                                                                                                                                                    },
                                                                                                                                                                                                                    "tokenTypeIdx": 32,
                                                                                                                                                                                                                  },
                                                                                                                                                                                                                ],
                                                                                                                                                                                                              },
                                                                                                                                                                                                              "name": "FunctionCall",
                                                                                                                                                                                                            },
                                                                                                                                                                                                          ],
                                                                                                                                                                                                        },
                                                                                                                                                                                                        "name": "atomicExpression",
                                                                                                                                                                                                      },
                                                                                                                                                                                                    ],
                                                                                                                                                                                                  },
                                                                                                                                                                                                  "name": "chainExpression",
                                                                                                                                                                                                },
                                                                                                                                                                                              ],
                                                                                                                                                                                            },
                                                                                                                                                                                            "name": "multiplicationExpression",
                                                                                                                                                                                          },
                                                                                                                                                                                        ],
                                                                                                                                                                                      },
                                                                                                                                                                                      "name": "additionExpression",
                                                                                                                                                                                    },
                                                                                                                                                                                  ],
                                                                                                                                                                                },
                                                                                                                                                                                "name": "concatExpression",
                                                                                                                                                                              },
                                                                                                                                                                            ],
                                                                                                                                                                          },
                                                                                                                                                                          "name": "compareExpression",
                                                                                                                                                                        },
                                                                                                                                                                      ],
                                                                                                                                                                    },
                                                                                                                                                                    "name": "equalCompareExpression",
                                                                                                                                                                  },
                                                                                                                                                                ],
                                                                                                                                                              },
                                                                                                                                                              "name": "notExpression",
                                                                                                                                                            },
                                                                                                                                                          ],
                                                                                                                                                        },
                                                                                                                                                        "name": "combineExpression",
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "expression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "parenthesisExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "atomicExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "chainExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "multiplicationExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "additionExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "concatExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "compareExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "equalCompareExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "notExpression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "combineExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "expression",
                                                                              },
                                                                              Object {
                                                                                "children": Object {
                                                                                  "combineExpression": Array [
                                                                                    Object {
                                                                                      "children": Object {
                                                                                        "lhs": Array [
                                                                                          Object {
                                                                                            "children": Object {
                                                                                              "rhs": Array [
                                                                                                Object {
                                                                                                  "children": Object {
                                                                                                    "lhs": Array [
                                                                                                      Object {
                                                                                                        "children": Object {
                                                                                                          "lhs": Array [
                                                                                                            Object {
                                                                                                              "children": Object {
                                                                                                                "lhs": Array [
                                                                                                                  Object {
                                                                                                                    "children": Object {
                                                                                                                      "AdditionOperator": Array [
                                                                                                                        Object {
                                                                                                                          "endColumn": 41,
                                                                                                                          "endLine": 1,
                                                                                                                          "endOffset": 40,
                                                                                                                          "image": "+",
                                                                                                                          "startColumn": 41,
                                                                                                                          "startLine": 1,
                                                                                                                          "startOffset": 40,
                                                                                                                          "tokenType": Object {
                                                                                                                            "CATEGORIES": Array [
                                                                                                                              Object {
                                                                                                                                "CATEGORIES": Array [],
                                                                                                                                "PATTERN": /NOT_APPLICABLE/,
                                                                                                                                "categoryMatches": Array [
                                                                                                                                  19,
                                                                                                                                  28,
                                                                                                                                ],
                                                                                                                                "categoryMatchesMap": Object {
                                                                                                                                  "19": true,
                                                                                                                                  "28": true,
                                                                                                                                },
                                                                                                                                "isParent": true,
                                                                                                                                "name": "AdditionOperator",
                                                                                                                                "tokenTypeIdx": 5,
                                                                                                                              },
                                                                                                                            ],
                                                                                                                            "PATTERN": /\\\\\\+/,
                                                                                                                            "categoryMatches": Array [],
                                                                                                                            "categoryMatchesMap": Object {},
                                                                                                                            "isParent": false,
                                                                                                                            "name": "Plus",
                                                                                                                            "tokenTypeIdx": 19,
                                                                                                                          },
                                                                                                                          "tokenTypeIdx": 19,
                                                                                                                        },
                                                                                                                      ],
                                                                                                                      "lhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "constantExpression": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "NumberLiteralExpression": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "NumberLiteral": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "endColumn": 39,
                                                                                                                                                        "endLine": 1,
                                                                                                                                                        "endOffset": 38,
                                                                                                                                                        "image": "1",
                                                                                                                                                        "startColumn": 39,
                                                                                                                                                        "startLine": 1,
                                                                                                                                                        "startOffset": 38,
                                                                                                                                                        "tokenType": Object {
                                                                                                                                                          "CATEGORIES": Array [],
                                                                                                                                                          "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                                                                                          "categoryMatches": Array [],
                                                                                                                                                          "categoryMatchesMap": Object {},
                                                                                                                                                          "isParent": false,
                                                                                                                                                          "name": "NumberLiteral",
                                                                                                                                                          "tokenTypeIdx": 33,
                                                                                                                                                        },
                                                                                                                                                        "tokenTypeIdx": 33,
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "NumberLiteralExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "constantExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "atomicExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "chainExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "multiplicationExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                      "rhs": Array [
                                                                                                                        Object {
                                                                                                                          "children": Object {
                                                                                                                            "lhs": Array [
                                                                                                                              Object {
                                                                                                                                "children": Object {
                                                                                                                                  "lhs": Array [
                                                                                                                                    Object {
                                                                                                                                      "children": Object {
                                                                                                                                        "constantExpression": Array [
                                                                                                                                          Object {
                                                                                                                                            "children": Object {
                                                                                                                                              "NumberLiteralExpression": Array [
                                                                                                                                                Object {
                                                                                                                                                  "children": Object {
                                                                                                                                                    "NumberLiteral": Array [
                                                                                                                                                      Object {
                                                                                                                                                        "endColumn": 43,
                                                                                                                                                        "endLine": 1,
                                                                                                                                                        "endOffset": 42,
                                                                                                                                                        "image": "1",
                                                                                                                                                        "startColumn": 43,
                                                                                                                                                        "startLine": 1,
                                                                                                                                                        "startOffset": 42,
                                                                                                                                                        "tokenType": Object {
                                                                                                                                                          "CATEGORIES": Array [],
                                                                                                                                                          "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                                                                                          "categoryMatches": Array [],
                                                                                                                                                          "categoryMatchesMap": Object {},
                                                                                                                                                          "isParent": false,
                                                                                                                                                          "name": "NumberLiteral",
                                                                                                                                                          "tokenTypeIdx": 33,
                                                                                                                                                        },
                                                                                                                                                        "tokenTypeIdx": 33,
                                                                                                                                                      },
                                                                                                                                                    ],
                                                                                                                                                  },
                                                                                                                                                  "name": "NumberLiteralExpression",
                                                                                                                                                },
                                                                                                                                              ],
                                                                                                                                            },
                                                                                                                                            "name": "constantExpression",
                                                                                                                                          },
                                                                                                                                        ],
                                                                                                                                      },
                                                                                                                                      "name": "atomicExpression",
                                                                                                                                    },
                                                                                                                                  ],
                                                                                                                                },
                                                                                                                                "name": "chainExpression",
                                                                                                                              },
                                                                                                                            ],
                                                                                                                          },
                                                                                                                          "name": "multiplicationExpression",
                                                                                                                        },
                                                                                                                      ],
                                                                                                                    },
                                                                                                                    "name": "additionExpression",
                                                                                                                  },
                                                                                                                ],
                                                                                                              },
                                                                                                              "name": "concatExpression",
                                                                                                            },
                                                                                                          ],
                                                                                                        },
                                                                                                        "name": "compareExpression",
                                                                                                      },
                                                                                                    ],
                                                                                                  },
                                                                                                  "name": "equalCompareExpression",
                                                                                                },
                                                                                              ],
                                                                                            },
                                                                                            "name": "notExpression",
                                                                                          },
                                                                                        ],
                                                                                      },
                                                                                      "name": "combineExpression",
                                                                                    },
                                                                                  ],
                                                                                },
                                                                                "name": "expression",
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "Arguments",
                                                                        },
                                                                      ],
                                                                      "Colon": Array [
                                                                        Object {
                                                                          "endColumn": 10,
                                                                          "endLine": 1,
                                                                          "endOffset": 9,
                                                                          "image": "::",
                                                                          "startColumn": 9,
                                                                          "startLine": 1,
                                                                          "startOffset": 8,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /::/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "Colon",
                                                                            "tokenTypeIdx": 37,
                                                                          },
                                                                          "tokenTypeIdx": 37,
                                                                        },
                                                                      ],
                                                                      "FunctionGroupName": Array [
                                                                        Object {
                                                                          "endColumn": 8,
                                                                          "endLine": 1,
                                                                          "endOffset": 7,
                                                                          "image": "custom",
                                                                          "startColumn": 3,
                                                                          "startLine": 1,
                                                                          "startOffset": 2,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "FunctionGroupName",
                                                                            "tokenTypeIdx": 38,
                                                                          },
                                                                          "tokenTypeIdx": 38,
                                                                        },
                                                                      ],
                                                                      "FunctionName": Array [
                                                                        Object {
                                                                          "endColumn": 14,
                                                                          "endLine": 1,
                                                                          "endOffset": 13,
                                                                          "image": "PLUS",
                                                                          "startColumn": 11,
                                                                          "startLine": 1,
                                                                          "startOffset": 10,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[A-Z\\]\\[A-Z0-9_\\]\\*/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "FunctionName",
                                                                            "tokenTypeIdx": 39,
                                                                          },
                                                                          "tokenTypeIdx": 39,
                                                                        },
                                                                      ],
                                                                      "LParen": Array [
                                                                        Object {
                                                                          "endColumn": 15,
                                                                          "endLine": 1,
                                                                          "endOffset": 14,
                                                                          "image": "(",
                                                                          "startColumn": 15,
                                                                          "startLine": 1,
                                                                          "startOffset": 14,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\(/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "LParen",
                                                                            "tokenTypeIdx": 31,
                                                                          },
                                                                          "tokenTypeIdx": 31,
                                                                        },
                                                                      ],
                                                                      "RParen": Array [
                                                                        Object {
                                                                          "endColumn": 44,
                                                                          "endLine": 1,
                                                                          "endOffset": 43,
                                                                          "image": ")",
                                                                          "startColumn": 44,
                                                                          "startLine": 1,
                                                                          "startOffset": 43,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\)/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "RParen",
                                                                            "tokenTypeIdx": 32,
                                                                          },
                                                                          "tokenTypeIdx": 32,
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "FunctionCall",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                            },
                                            "name": "additionExpression",
                                          },
                                        ],
                                      },
                                      "name": "concatExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok = custom::PLUS((custom::FORTY_TWO()), 1 + 1) 2`] = `
Array [
  Object {
    "code": "Function",
    "errors": Array [],
    "meta": Object {},
    "name": "custom::PLUS",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": Object {},
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": Object {},
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Function",
    "errors": Array [],
    "meta": Object {},
    "name": "custom::FORTY_TWO",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": Object {},
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": Object {},
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": Object {},
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "Comma",
    "errors": Array [],
    "meta": Object {},
    "name": ",",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": Object {},
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": Object {},
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "any",
  },
]
`;

exports[`Code fragment ok ="FOO".core::T().core::T() & "Zzz" 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                12,
                13,
                15,
                16,
              ],
              "categoryMatchesMap": Object {
                "12": true,
                "13": true,
                "15": true,
                "16": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 12,
        },
        "tokenTypeIdx": 12,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "combineExpression": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "Ampersand": Array [
                                          Object {
                                            "endColumn": 28,
                                            "endLine": 1,
                                            "endOffset": 27,
                                            "image": "&",
                                            "startColumn": 28,
                                            "startLine": 1,
                                            "startOffset": 27,
                                            "tokenType": Object {
                                              "CATEGORIES": Array [],
                                              "PATTERN": /&/,
                                              "categoryMatches": Array [],
                                              "categoryMatchesMap": Object {},
                                              "isParent": false,
                                              "name": "Ampersand",
                                              "tokenTypeIdx": 20,
                                            },
                                            "tokenTypeIdx": 20,
                                          },
                                        ],
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "Dot": Array [
                                                            Object {
                                                              "endColumn": 7,
                                                              "endLine": 1,
                                                              "endOffset": 6,
                                                              "image": ".",
                                                              "startColumn": 7,
                                                              "startLine": 1,
                                                              "startOffset": 6,
                                                              "tokenType": Object {
                                                                "CATEGORIES": Array [],
                                                                "PATTERN": /\\\\\\./,
                                                                "categoryMatches": Array [],
                                                                "categoryMatchesMap": Object {},
                                                                "isParent": false,
                                                                "name": "Dot",
                                                                "tokenTypeIdx": 26,
                                                              },
                                                              "tokenTypeIdx": 26,
                                                            },
                                                            Object {
                                                              "endColumn": 17,
                                                              "endLine": 1,
                                                              "endOffset": 16,
                                                              "image": ".",
                                                              "startColumn": 17,
                                                              "startLine": 1,
                                                              "startOffset": 16,
                                                              "tokenType": Object {
                                                                "CATEGORIES": Array [],
                                                                "PATTERN": /\\\\\\./,
                                                                "categoryMatches": Array [],
                                                                "categoryMatchesMap": Object {},
                                                                "isParent": false,
                                                                "name": "Dot",
                                                                "tokenTypeIdx": 26,
                                                              },
                                                              "tokenTypeIdx": 26,
                                                            },
                                                          ],
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "constantExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "StringLiteral": Array [
                                                                        Object {
                                                                          "endColumn": 6,
                                                                          "endLine": 1,
                                                                          "endOffset": 5,
                                                                          "image": "\\"FOO\\"",
                                                                          "startColumn": 2,
                                                                          "startLine": 1,
                                                                          "startOffset": 1,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /"\\(""\\|\\[\\^"\\]\\)\\*"/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "StringLiteral",
                                                                            "tokenTypeIdx": 35,
                                                                          },
                                                                          "tokenTypeIdx": 35,
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "constantExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                          "rhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "Colon": Array [
                                                                  Object {
                                                                    "endColumn": 13,
                                                                    "endLine": 1,
                                                                    "endOffset": 12,
                                                                    "image": "::",
                                                                    "startColumn": 12,
                                                                    "startLine": 1,
                                                                    "startOffset": 11,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /::/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "Colon",
                                                                      "tokenTypeIdx": 37,
                                                                    },
                                                                    "tokenTypeIdx": 37,
                                                                  },
                                                                ],
                                                                "FunctionGroupName": Array [
                                                                  Object {
                                                                    "endColumn": 11,
                                                                    "endLine": 1,
                                                                    "endOffset": 10,
                                                                    "image": "core",
                                                                    "startColumn": 8,
                                                                    "startLine": 1,
                                                                    "startOffset": 7,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "FunctionGroupName",
                                                                      "tokenTypeIdx": 38,
                                                                    },
                                                                    "tokenTypeIdx": 38,
                                                                  },
                                                                ],
                                                                "FunctionName": Array [
                                                                  Object {
                                                                    "endColumn": 14,
                                                                    "endLine": 1,
                                                                    "endOffset": 13,
                                                                    "image": "T",
                                                                    "startColumn": 14,
                                                                    "startLine": 1,
                                                                    "startOffset": 13,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\[A-Z\\]\\[A-Z0-9_\\]\\*/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "FunctionName",
                                                                      "tokenTypeIdx": 39,
                                                                    },
                                                                    "tokenTypeIdx": 39,
                                                                  },
                                                                ],
                                                                "LParen": Array [
                                                                  Object {
                                                                    "endColumn": 15,
                                                                    "endLine": 1,
                                                                    "endOffset": 14,
                                                                    "image": "(",
                                                                    "startColumn": 15,
                                                                    "startLine": 1,
                                                                    "startOffset": 14,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\\\\\(/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "LParen",
                                                                      "tokenTypeIdx": 31,
                                                                    },
                                                                    "tokenTypeIdx": 31,
                                                                  },
                                                                ],
                                                                "RParen": Array [
                                                                  Object {
                                                                    "endColumn": 16,
                                                                    "endLine": 1,
                                                                    "endOffset": 15,
                                                                    "image": ")",
                                                                    "startColumn": 16,
                                                                    "startLine": 1,
                                                                    "startOffset": 15,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\\\\\)/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "RParen",
                                                                      "tokenTypeIdx": 32,
                                                                    },
                                                                    "tokenTypeIdx": 32,
                                                                  },
                                                                ],
                                                              },
                                                              "name": "FunctionCall",
                                                            },
                                                            Object {
                                                              "children": Object {
                                                                "Colon": Array [
                                                                  Object {
                                                                    "endColumn": 23,
                                                                    "endLine": 1,
                                                                    "endOffset": 22,
                                                                    "image": "::",
                                                                    "startColumn": 22,
                                                                    "startLine": 1,
                                                                    "startOffset": 21,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /::/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "Colon",
                                                                      "tokenTypeIdx": 37,
                                                                    },
                                                                    "tokenTypeIdx": 37,
                                                                  },
                                                                ],
                                                                "FunctionGroupName": Array [
                                                                  Object {
                                                                    "endColumn": 21,
                                                                    "endLine": 1,
                                                                    "endOffset": 20,
                                                                    "image": "core",
                                                                    "startColumn": 18,
                                                                    "startLine": 1,
                                                                    "startOffset": 17,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\[a-zA-Z\\]\\[a-zA-Z0-9_\\]\\*/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "FunctionGroupName",
                                                                      "tokenTypeIdx": 38,
                                                                    },
                                                                    "tokenTypeIdx": 38,
                                                                  },
                                                                ],
                                                                "FunctionName": Array [
                                                                  Object {
                                                                    "endColumn": 24,
                                                                    "endLine": 1,
                                                                    "endOffset": 23,
                                                                    "image": "T",
                                                                    "startColumn": 24,
                                                                    "startLine": 1,
                                                                    "startOffset": 23,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\[A-Z\\]\\[A-Z0-9_\\]\\*/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "FunctionName",
                                                                      "tokenTypeIdx": 39,
                                                                    },
                                                                    "tokenTypeIdx": 39,
                                                                  },
                                                                ],
                                                                "LParen": Array [
                                                                  Object {
                                                                    "endColumn": 25,
                                                                    "endLine": 1,
                                                                    "endOffset": 24,
                                                                    "image": "(",
                                                                    "startColumn": 25,
                                                                    "startLine": 1,
                                                                    "startOffset": 24,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\\\\\(/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "LParen",
                                                                      "tokenTypeIdx": 31,
                                                                    },
                                                                    "tokenTypeIdx": 31,
                                                                  },
                                                                ],
                                                                "RParen": Array [
                                                                  Object {
                                                                    "endColumn": 26,
                                                                    "endLine": 1,
                                                                    "endOffset": 25,
                                                                    "image": ")",
                                                                    "startColumn": 26,
                                                                    "startLine": 1,
                                                                    "startOffset": 25,
                                                                    "tokenType": Object {
                                                                      "CATEGORIES": Array [],
                                                                      "PATTERN": /\\\\\\)/,
                                                                      "categoryMatches": Array [],
                                                                      "categoryMatchesMap": Object {},
                                                                      "isParent": false,
                                                                      "name": "RParen",
                                                                      "tokenTypeIdx": 32,
                                                                    },
                                                                    "tokenTypeIdx": 32,
                                                                  },
                                                                ],
                                                              },
                                                              "name": "FunctionCall",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                            },
                                            "name": "additionExpression",
                                          },
                                        ],
                                        "rhs": Array [
                                          Object {
                                            "children": Object {
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "constantExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "StringLiteral": Array [
                                                                        Object {
                                                                          "endColumn": 34,
                                                                          "endLine": 1,
                                                                          "endOffset": 33,
                                                                          "image": "\\"Zzz\\"",
                                                                          "startColumn": 30,
                                                                          "startLine": 1,
                                                                          "startOffset": 29,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /"\\(""\\|\\[\\^"\\]\\)\\*"/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "StringLiteral",
                                                                            "tokenTypeIdx": 35,
                                                                          },
                                                                          "tokenTypeIdx": 35,
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "constantExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                            },
                                            "name": "additionExpression",
                                          },
                                        ],
                                      },
                                      "name": "concatExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok ="FOO".core::T().core::T() & "Zzz" 2`] = `
Array [
  Object {
    "code": "StringLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "\\"FOO\\"",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "string",
  },
  Object {
    "code": "Dot",
    "errors": Array [],
    "meta": Object {},
    "name": ".",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Function",
    "errors": Array [],
    "meta": Object {},
    "name": "core::T",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": Object {},
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": Object {},
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "Dot",
    "errors": Array [],
    "meta": Object {},
    "name": ".",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Function",
    "errors": Array [],
    "meta": Object {},
    "name": "core::T",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "LParen",
    "errors": Array [],
    "meta": Object {},
    "name": "(",
    "spaceAfter": true,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "RParen",
    "errors": Array [],
    "meta": Object {},
    "name": ")",
    "spaceAfter": false,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "Ampersand",
    "errors": Array [],
    "meta": Object {},
    "name": "&",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "any",
  },
  Object {
    "code": "StringLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "\\"Zzz\\"",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "string",
  },
]
`;

exports[`Code fragment ok =$57622108-1337-4edd-833a-2557835bcfe0@cd4f6e1e-765e-4064-badd-b5585c7eff8e + 3 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                12,
                13,
                15,
                16,
              ],
              "categoryMatchesMap": Object {
                "12": true,
                "13": true,
                "15": true,
                "16": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 12,
        },
        "tokenTypeIdx": 12,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "combineExpression": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "AdditionOperator": Array [
                                                Object {
                                                  "endColumn": 77,
                                                  "endLine": 1,
                                                  "endOffset": 76,
                                                  "image": "+",
                                                  "startColumn": 77,
                                                  "startLine": 1,
                                                  "startOffset": 76,
                                                  "tokenType": Object {
                                                    "CATEGORIES": Array [
                                                      Object {
                                                        "CATEGORIES": Array [],
                                                        "PATTERN": /NOT_APPLICABLE/,
                                                        "categoryMatches": Array [
                                                          19,
                                                          28,
                                                        ],
                                                        "categoryMatchesMap": Object {
                                                          "19": true,
                                                          "28": true,
                                                        },
                                                        "isParent": true,
                                                        "name": "AdditionOperator",
                                                        "tokenTypeIdx": 5,
                                                      },
                                                    ],
                                                    "PATTERN": /\\\\\\+/,
                                                    "categoryMatches": Array [],
                                                    "categoryMatchesMap": Object {},
                                                    "isParent": false,
                                                    "name": "Plus",
                                                    "tokenTypeIdx": 19,
                                                  },
                                                  "tokenTypeIdx": 19,
                                                },
                                              ],
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "variableExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "At": Array [
                                                                        Object {
                                                                          "endColumn": 39,
                                                                          "endLine": 1,
                                                                          "endOffset": 38,
                                                                          "image": "@",
                                                                          "startColumn": 39,
                                                                          "startLine": 1,
                                                                          "startOffset": 38,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /@/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "At",
                                                                            "tokenTypeIdx": 24,
                                                                          },
                                                                          "tokenTypeIdx": 24,
                                                                        },
                                                                      ],
                                                                      "Dollar": Array [
                                                                        Object {
                                                                          "endColumn": 2,
                                                                          "endLine": 1,
                                                                          "endOffset": 1,
                                                                          "image": "$",
                                                                          "startColumn": 2,
                                                                          "startLine": 1,
                                                                          "startOffset": 1,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\$/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "Dollar",
                                                                            "tokenTypeIdx": 23,
                                                                          },
                                                                          "tokenTypeIdx": 23,
                                                                        },
                                                                      ],
                                                                      "UUID": Array [
                                                                        Object {
                                                                          "endColumn": 38,
                                                                          "endLine": 1,
                                                                          "endOffset": 37,
                                                                          "image": "57622108-1337-4edd-833a-2557835bcfe0",
                                                                          "startColumn": 3,
                                                                          "startLine": 1,
                                                                          "startOffset": 2,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "UUID",
                                                                            "tokenTypeIdx": 27,
                                                                          },
                                                                          "tokenTypeIdx": 27,
                                                                        },
                                                                        Object {
                                                                          "endColumn": 75,
                                                                          "endLine": 1,
                                                                          "endOffset": 74,
                                                                          "image": "cd4f6e1e-765e-4064-badd-b5585c7eff8e",
                                                                          "startColumn": 40,
                                                                          "startLine": 1,
                                                                          "startOffset": 39,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "UUID",
                                                                            "tokenTypeIdx": 27,
                                                                          },
                                                                          "tokenTypeIdx": 27,
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "variableExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                              "rhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "constantExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "NumberLiteralExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "NumberLiteral": Array [
                                                                              Object {
                                                                                "endColumn": 79,
                                                                                "endLine": 1,
                                                                                "endOffset": 78,
                                                                                "image": "3",
                                                                                "startColumn": 79,
                                                                                "startLine": 1,
                                                                                "startOffset": 78,
                                                                                "tokenType": Object {
                                                                                  "CATEGORIES": Array [],
                                                                                  "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                  "categoryMatches": Array [],
                                                                                  "categoryMatchesMap": Object {},
                                                                                  "isParent": false,
                                                                                  "name": "NumberLiteral",
                                                                                  "tokenTypeIdx": 33,
                                                                                },
                                                                                "tokenTypeIdx": 33,
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "NumberLiteralExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "constantExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                            },
                                            "name": "additionExpression",
                                          },
                                        ],
                                      },
                                      "name": "concatExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok =$57622108-1337-4edd-833a-2557835bcfe0@cd4f6e1e-765e-4064-badd-b5585c7eff8e + 3 2`] = `
Array [
  Object {
    "code": "Dollar",
    "errors": Array [],
    "meta": Object {},
    "name": "$",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Variable",
    "errors": Array [
      Object {
        "message": "Variable not found: cd4f6e1e-765e-4064-badd-b5585c7eff8e",
        "type": "deps",
      },
    ],
    "meta": Object {},
    "name": "$57622108-1337-4edd-833a-2557835bcfe0@cd4f6e1e-765e-4064-badd-b5585c7eff8e",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": Object {},
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "3",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
]
`;

exports[`Code fragment ok =$57622108-1337-4edd-833a-2557835bcfe0@d986e871-cb85-4bd5-b675-87307f60b882 + 1 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                12,
                13,
                15,
                16,
              ],
              "categoryMatchesMap": Object {
                "12": true,
                "13": true,
                "15": true,
                "16": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 12,
        },
        "tokenTypeIdx": 12,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "combineExpression": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "AdditionOperator": Array [
                                                Object {
                                                  "endColumn": 77,
                                                  "endLine": 1,
                                                  "endOffset": 76,
                                                  "image": "+",
                                                  "startColumn": 77,
                                                  "startLine": 1,
                                                  "startOffset": 76,
                                                  "tokenType": Object {
                                                    "CATEGORIES": Array [
                                                      Object {
                                                        "CATEGORIES": Array [],
                                                        "PATTERN": /NOT_APPLICABLE/,
                                                        "categoryMatches": Array [
                                                          19,
                                                          28,
                                                        ],
                                                        "categoryMatchesMap": Object {
                                                          "19": true,
                                                          "28": true,
                                                        },
                                                        "isParent": true,
                                                        "name": "AdditionOperator",
                                                        "tokenTypeIdx": 5,
                                                      },
                                                    ],
                                                    "PATTERN": /\\\\\\+/,
                                                    "categoryMatches": Array [],
                                                    "categoryMatchesMap": Object {},
                                                    "isParent": false,
                                                    "name": "Plus",
                                                    "tokenTypeIdx": 19,
                                                  },
                                                  "tokenTypeIdx": 19,
                                                },
                                              ],
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "variableExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "At": Array [
                                                                        Object {
                                                                          "endColumn": 39,
                                                                          "endLine": 1,
                                                                          "endOffset": 38,
                                                                          "image": "@",
                                                                          "startColumn": 39,
                                                                          "startLine": 1,
                                                                          "startOffset": 38,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /@/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "At",
                                                                            "tokenTypeIdx": 24,
                                                                          },
                                                                          "tokenTypeIdx": 24,
                                                                        },
                                                                      ],
                                                                      "Dollar": Array [
                                                                        Object {
                                                                          "endColumn": 2,
                                                                          "endLine": 1,
                                                                          "endOffset": 1,
                                                                          "image": "$",
                                                                          "startColumn": 2,
                                                                          "startLine": 1,
                                                                          "startOffset": 1,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\$/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "Dollar",
                                                                            "tokenTypeIdx": 23,
                                                                          },
                                                                          "tokenTypeIdx": 23,
                                                                        },
                                                                      ],
                                                                      "UUID": Array [
                                                                        Object {
                                                                          "endColumn": 38,
                                                                          "endLine": 1,
                                                                          "endOffset": 37,
                                                                          "image": "57622108-1337-4edd-833a-2557835bcfe0",
                                                                          "startColumn": 3,
                                                                          "startLine": 1,
                                                                          "startOffset": 2,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "UUID",
                                                                            "tokenTypeIdx": 27,
                                                                          },
                                                                          "tokenTypeIdx": 27,
                                                                        },
                                                                        Object {
                                                                          "endColumn": 75,
                                                                          "endLine": 1,
                                                                          "endOffset": 74,
                                                                          "image": "d986e871-cb85-4bd5-b675-87307f60b882",
                                                                          "startColumn": 40,
                                                                          "startLine": 1,
                                                                          "startOffset": 39,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "UUID",
                                                                            "tokenTypeIdx": 27,
                                                                          },
                                                                          "tokenTypeIdx": 27,
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "variableExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                              "rhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "constantExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "NumberLiteralExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "NumberLiteral": Array [
                                                                              Object {
                                                                                "endColumn": 79,
                                                                                "endLine": 1,
                                                                                "endOffset": 78,
                                                                                "image": "1",
                                                                                "startColumn": 79,
                                                                                "startLine": 1,
                                                                                "startOffset": 78,
                                                                                "tokenType": Object {
                                                                                  "CATEGORIES": Array [],
                                                                                  "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                  "categoryMatches": Array [],
                                                                                  "categoryMatchesMap": Object {},
                                                                                  "isParent": false,
                                                                                  "name": "NumberLiteral",
                                                                                  "tokenTypeIdx": 33,
                                                                                },
                                                                                "tokenTypeIdx": 33,
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "NumberLiteralExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "constantExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                            },
                                            "name": "additionExpression",
                                          },
                                        ],
                                      },
                                      "name": "concatExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok =$57622108-1337-4edd-833a-2557835bcfe0@d986e871-cb85-4bd5-b675-87307f60b882 + 1 2`] = `
Array [
  Object {
    "code": "Dollar",
    "errors": Array [],
    "meta": Object {},
    "name": "$",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Variable",
    "errors": Array [
      Object {
        "message": "Variable not found: d986e871-cb85-4bd5-b675-87307f60b882",
        "type": "deps",
      },
    ],
    "meta": Object {},
    "name": "$57622108-1337-4edd-833a-2557835bcfe0@d986e871-cb85-4bd5-b675-87307f60b882",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": Object {},
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "1",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
]
`;

exports[`Code fragment ok =$cd4f6e1e-765e-4064-badd-b5585c7eff8e@d986e871-cb85-4bd5-b675-87307f60b882 + 2 1`] = `
Object {
  "children": Object {
    "Equal": Array [
      Object {
        "endColumn": 1,
        "endLine": 1,
        "endOffset": 0,
        "image": "=",
        "startColumn": 1,
        "startLine": 1,
        "startOffset": 0,
        "tokenType": Object {
          "CATEGORIES": Array [
            Object {
              "CATEGORIES": Array [],
              "PATTERN": /NOT_APPLICABLE/,
              "categoryMatches": Array [
                12,
                13,
                15,
                16,
              ],
              "categoryMatchesMap": Object {
                "12": true,
                "13": true,
                "15": true,
                "16": true,
              },
              "isParent": true,
              "name": "EqualCompareOperator",
              "tokenTypeIdx": 3,
            },
          ],
          "PATTERN": /=/,
          "categoryMatches": Array [],
          "categoryMatchesMap": Object {},
          "isParent": false,
          "name": "Equal",
          "tokenTypeIdx": 12,
        },
        "tokenTypeIdx": 12,
      },
    ],
    "expression": Array [
      Object {
        "children": Object {
          "combineExpression": Array [
            Object {
              "children": Object {
                "lhs": Array [
                  Object {
                    "children": Object {
                      "rhs": Array [
                        Object {
                          "children": Object {
                            "lhs": Array [
                              Object {
                                "children": Object {
                                  "lhs": Array [
                                    Object {
                                      "children": Object {
                                        "lhs": Array [
                                          Object {
                                            "children": Object {
                                              "AdditionOperator": Array [
                                                Object {
                                                  "endColumn": 77,
                                                  "endLine": 1,
                                                  "endOffset": 76,
                                                  "image": "+",
                                                  "startColumn": 77,
                                                  "startLine": 1,
                                                  "startOffset": 76,
                                                  "tokenType": Object {
                                                    "CATEGORIES": Array [
                                                      Object {
                                                        "CATEGORIES": Array [],
                                                        "PATTERN": /NOT_APPLICABLE/,
                                                        "categoryMatches": Array [
                                                          19,
                                                          28,
                                                        ],
                                                        "categoryMatchesMap": Object {
                                                          "19": true,
                                                          "28": true,
                                                        },
                                                        "isParent": true,
                                                        "name": "AdditionOperator",
                                                        "tokenTypeIdx": 5,
                                                      },
                                                    ],
                                                    "PATTERN": /\\\\\\+/,
                                                    "categoryMatches": Array [],
                                                    "categoryMatchesMap": Object {},
                                                    "isParent": false,
                                                    "name": "Plus",
                                                    "tokenTypeIdx": 19,
                                                  },
                                                  "tokenTypeIdx": 19,
                                                },
                                              ],
                                              "lhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "variableExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "At": Array [
                                                                        Object {
                                                                          "endColumn": 39,
                                                                          "endLine": 1,
                                                                          "endOffset": 38,
                                                                          "image": "@",
                                                                          "startColumn": 39,
                                                                          "startLine": 1,
                                                                          "startOffset": 38,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /@/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "At",
                                                                            "tokenTypeIdx": 24,
                                                                          },
                                                                          "tokenTypeIdx": 24,
                                                                        },
                                                                      ],
                                                                      "Dollar": Array [
                                                                        Object {
                                                                          "endColumn": 2,
                                                                          "endLine": 1,
                                                                          "endOffset": 1,
                                                                          "image": "$",
                                                                          "startColumn": 2,
                                                                          "startLine": 1,
                                                                          "startOffset": 1,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\\\\\$/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "Dollar",
                                                                            "tokenTypeIdx": 23,
                                                                          },
                                                                          "tokenTypeIdx": 23,
                                                                        },
                                                                      ],
                                                                      "UUID": Array [
                                                                        Object {
                                                                          "endColumn": 38,
                                                                          "endLine": 1,
                                                                          "endOffset": 37,
                                                                          "image": "cd4f6e1e-765e-4064-badd-b5585c7eff8e",
                                                                          "startColumn": 3,
                                                                          "startLine": 1,
                                                                          "startOffset": 2,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "UUID",
                                                                            "tokenTypeIdx": 27,
                                                                          },
                                                                          "tokenTypeIdx": 27,
                                                                        },
                                                                        Object {
                                                                          "endColumn": 75,
                                                                          "endLine": 1,
                                                                          "endOffset": 74,
                                                                          "image": "d986e871-cb85-4bd5-b675-87307f60b882",
                                                                          "startColumn": 40,
                                                                          "startLine": 1,
                                                                          "startOffset": 39,
                                                                          "tokenType": Object {
                                                                            "CATEGORIES": Array [],
                                                                            "PATTERN": /\\[0-9a-f\\]\\{8\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{4\\}-\\[0-9a-f\\]\\{12\\}/,
                                                                            "categoryMatches": Array [],
                                                                            "categoryMatchesMap": Object {},
                                                                            "isParent": false,
                                                                            "name": "UUID",
                                                                            "tokenTypeIdx": 27,
                                                                          },
                                                                          "tokenTypeIdx": 27,
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "variableExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                              "rhs": Array [
                                                Object {
                                                  "children": Object {
                                                    "lhs": Array [
                                                      Object {
                                                        "children": Object {
                                                          "lhs": Array [
                                                            Object {
                                                              "children": Object {
                                                                "constantExpression": Array [
                                                                  Object {
                                                                    "children": Object {
                                                                      "NumberLiteralExpression": Array [
                                                                        Object {
                                                                          "children": Object {
                                                                            "NumberLiteral": Array [
                                                                              Object {
                                                                                "endColumn": 79,
                                                                                "endLine": 1,
                                                                                "endOffset": 78,
                                                                                "image": "2",
                                                                                "startColumn": 79,
                                                                                "startLine": 1,
                                                                                "startOffset": 78,
                                                                                "tokenType": Object {
                                                                                  "CATEGORIES": Array [],
                                                                                  "PATTERN": /\\[0-9\\]\\+\\[\\.\\]\\?\\[0-9\\]\\*\\(\\[eE\\]\\[\\+-\\]\\[0-9\\]\\+\\)\\?/,
                                                                                  "categoryMatches": Array [],
                                                                                  "categoryMatchesMap": Object {},
                                                                                  "isParent": false,
                                                                                  "name": "NumberLiteral",
                                                                                  "tokenTypeIdx": 33,
                                                                                },
                                                                                "tokenTypeIdx": 33,
                                                                              },
                                                                            ],
                                                                          },
                                                                          "name": "NumberLiteralExpression",
                                                                        },
                                                                      ],
                                                                    },
                                                                    "name": "constantExpression",
                                                                  },
                                                                ],
                                                              },
                                                              "name": "atomicExpression",
                                                            },
                                                          ],
                                                        },
                                                        "name": "chainExpression",
                                                      },
                                                    ],
                                                  },
                                                  "name": "multiplicationExpression",
                                                },
                                              ],
                                            },
                                            "name": "additionExpression",
                                          },
                                        ],
                                      },
                                      "name": "concatExpression",
                                    },
                                  ],
                                },
                                "name": "compareExpression",
                              },
                            ],
                          },
                          "name": "equalCompareExpression",
                        },
                      ],
                    },
                    "name": "notExpression",
                  },
                ],
              },
              "name": "combineExpression",
            },
          ],
        },
        "name": "expression",
      },
    ],
  },
  "name": "startExpression",
}
`;

exports[`Code fragment ok =$cd4f6e1e-765e-4064-badd-b5585c7eff8e@d986e871-cb85-4bd5-b675-87307f60b882 + 2 2`] = `
Array [
  Object {
    "code": "Dollar",
    "errors": Array [],
    "meta": Object {},
    "name": "$",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Variable",
    "errors": Array [
      Object {
        "message": "Variable not found: d986e871-cb85-4bd5-b675-87307f60b882",
        "type": "deps",
      },
    ],
    "meta": Object {},
    "name": "$cd4f6e1e-765e-4064-badd-b5585c7eff8e@d986e871-cb85-4bd5-b675-87307f60b882",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "any",
  },
  Object {
    "code": "Plus",
    "errors": Array [],
    "meta": Object {},
    "name": "+",
    "spaceAfter": true,
    "spaceBefore": true,
    "type": "number",
  },
  Object {
    "code": "NumberLiteral",
    "errors": Array [],
    "meta": Object {},
    "name": "2",
    "spaceAfter": false,
    "spaceBefore": false,
    "type": "number",
  },
]
`;
